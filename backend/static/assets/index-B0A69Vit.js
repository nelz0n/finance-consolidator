var ir=Object.defineProperty;var ar=(t,e,n)=>e in t?ir(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var In=(t,e,n)=>ar(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function ie(){}const go=t=>t;function St(t,e){for(const n in e)t[n]=e[n];return t}function cr(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function vo(t){return t()}function _l(){return Object.create(null)}function Re(t){t.forEach(vo)}function rn(t){return typeof t=="function"}function ut(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ur(t){return Object.keys(t).length===0}function yo(t,...e){if(t==null){for(const l of e)l(void 0);return ie}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Rt(t,e,n){t.$$.on_destroy.push(yo(e,n))}function an(t,e,n,l){if(t){const s=ko(t,e,n,l);return t[0](s)}}function ko(t,e,n,l){return t[1]&&l?St(n.ctx.slice(),t[1](l(e))):n.ctx}function cn(t,e,n,l){if(t[2]&&l){const s=t[2](l(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const o=[],r=Math.max(e.dirty.length,s.length);for(let a=0;a<r;a+=1)o[a]=e.dirty[a]|s[a];return o}return e.dirty|s}return e.dirty}function un(t,e,n,l,s,o){if(s){const r=ko(e,n,l,o);t.p(r,s)}}function fn(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function Gn(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function hl(t,e){const n={};e=new Set(e);for(const l in t)!e.has(l)&&l[0]!=="$"&&(n[l]=t[l]);return n}function ml(t){return t??""}const wo=typeof window<"u";let Co=wo?()=>window.performance.now():()=>Date.now(),sl=wo?t=>requestAnimationFrame(t):ie;const Jt=new Set;function Eo(t){Jt.forEach(e=>{e.c(t)||(Jt.delete(e),e.f())}),Jt.size!==0&&sl(Eo)}function So(t){let e;return Jt.size===0&&sl(Eo),{promise:new Promise(n=>{Jt.add(e={c:t,f:n})}),abort(){Jt.delete(e)}}}function i(t,e){t.appendChild(e)}function To(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function fr(t){const e=p("style");return e.textContent="/* empty */",dr(To(t),e),e.sheet}function dr(t,e){return i(t.head||t,e),e.sheet}function A(t,e,n){t.insertBefore(e,n||null)}function j(t){t.parentNode&&t.parentNode.removeChild(t)}function ze(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function D(t){return document.createTextNode(t)}function k(){return D(" ")}function ft(){return D("")}function B(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function Ro(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function u(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const pr=["width","height"];function bl(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const l in e)e[l]==null?t.removeAttribute(l):l==="style"?t.style.cssText=e[l]:l==="__value"?t.value=t[l]=e[l]:n[l]&&n[l].set&&pr.indexOf(l)===-1?t[l]=e[l]:u(t,l,e[l])}function st(t){return t===""?null:+t}function _r(t){return Array.from(t.childNodes)}function Y(t,e){e=""+e,t.data!==e&&(t.data=e)}function H(t,e){t.value=e??""}function pt(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function Te(t,e,n){for(let l=0;l<t.options.length;l+=1){const s=t.options[l];if(s.__value===e){s.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function at(t){const e=t.querySelector(":checked");return e&&e.__value}function ct(t,e,n){t.classList.toggle(e,!!n)}function jo(t,e,{bubbles:n=!1,cancelable:l=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:l})}function gl(t,e){return new t(e)}const En=new Map;let Sn=0;function hr(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function mr(t,e){const n={stylesheet:fr(e),rules:{}};return En.set(t,n),n}function Oo(t,e,n,l,s,o,r,a=0){const c=16.666/l;let f=`{
`;for(let v=0;v<=1;v+=c){const y=e+(n-e)*o(v);f+=v*100+`%{${r(y,1-y)}}
`}const d=f+`100% {${r(n,1-n)}}
}`,h=`__svelte_${hr(d)}_${a}`,b=To(t),{stylesheet:m,rules:_}=En.get(b)||mr(b,t);_[h]||(_[h]=!0,m.insertRule(`@keyframes ${h} ${d}`,m.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${h} ${l}ms linear ${s}ms 1 both`,Sn+=1,h}function Xn(t,e){const n=(t.style.animation||"").split(", "),l=n.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),s=n.length-l.length;s&&(t.style.animation=l.join(", "),Sn-=s,Sn||br())}function br(){sl(()=>{Sn||(En.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&j(e)}),En.clear())})}let sn;function kt(t){sn=t}function Zt(){if(!sn)throw new Error("Function called outside component initialization");return sn}function zt(t){Zt().$$.on_mount.push(t)}function gr(t){Zt().$$.on_destroy.push(t)}function vr(){const t=Zt();return(e,n,{cancelable:l=!1}={})=>{const s=t.$$.callbacks[e];if(s){const o=jo(e,n,{cancelable:l});return s.slice().forEach(r=>{r.call(t,o)}),!o.defaultPrevented}return!0}}function Bn(t,e){return Zt().$$.context.set(t,e),e}function Kt(t){return Zt().$$.context.get(t)}function Ao(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(l=>l.call(this,e))}const Ht=[],vl=[];let Wt=[];const yl=[],yr=Promise.resolve();let Yn=!1;function kr(){Yn||(Yn=!0,yr.then(ol))}function Ie(t){Wt.push(t)}const Mn=new Set;let It=0;function ol(){if(It!==0)return;const t=sn;do{try{for(;It<Ht.length;){const e=Ht[It];It++,kt(e),wr(e.$$)}}catch(e){throw Ht.length=0,It=0,e}for(kt(null),Ht.length=0,It=0;vl.length;)vl.pop()();for(let e=0;e<Wt.length;e+=1){const n=Wt[e];Mn.has(n)||(Mn.add(n),n())}Wt.length=0}while(Ht.length);for(;yl.length;)yl.pop()();Yn=!1,Mn.clear(),kt(t)}function wr(t){if(t.fragment!==null){t.update(),Re(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ie)}}function Cr(t){const e=[],n=[];Wt.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),Wt=e}let tn;function zo(){return tn||(tn=Promise.resolve(),tn.then(()=>{tn=null})),tn}function Tn(t,e,n){t.dispatchEvent(jo(`${e?"intro":"outro"}${n}`))}const yn=new Set;let Ct;function Gt(){Ct={r:0,c:[],p:Ct}}function Xt(){Ct.r||Re(Ct.c),Ct=Ct.p}function ye(t,e){t&&t.i&&(yn.delete(t),t.i(e))}function Ce(t,e,n,l){if(t&&t.o){if(yn.has(t))return;yn.add(t),Ct.c.push(()=>{yn.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}const Po={duration:0};function Er(t,e,n){const l={direction:"in"};let s=e(t,n,l),o=!1,r,a,c=0;function f(){r&&Xn(t,r)}function d(){const{delay:b=0,duration:m=300,easing:_=go,tick:g=ie,css:v}=s||Po;v&&(r=Oo(t,0,1,m,b,_,v,c++)),g(0,1);const y=Co()+b,w=y+m;a&&a.abort(),o=!0,Ie(()=>Tn(t,!0,"start")),a=So(C=>{if(o){if(C>=w)return g(1,0),Tn(t,!0,"end"),f(),o=!1;if(C>=y){const L=_((C-y)/m);g(L,1-L)}}return o})}let h=!1;return{start(){h||(h=!0,Xn(t),rn(s)?(s=s(l),zo().then(d)):d())},invalidate(){h=!1},end(){o&&(f(),o=!1)}}}function Sr(t,e,n){const l={direction:"out"};let s=e(t,n,l),o=!0,r;const a=Ct;a.r+=1;let c;function f(){const{delay:d=0,duration:h=300,easing:b=go,tick:m=ie,css:_}=s||Po;_&&(r=Oo(t,1,0,h,d,b,_));const g=Co()+d,v=g+h;Ie(()=>Tn(t,!1,"start")),"inert"in t&&(c=t.inert,t.inert=!0),So(y=>{if(o){if(y>=v)return m(0,1),Tn(t,!1,"end"),--a.r||Re(a.c),!1;if(y>=g){const w=b((y-g)/h);m(1-w,w)}}return o})}return rn(s)?zo().then(()=>{s=s(l),f()}):f(),{end(d){d&&"inert"in t&&(t.inert=c),d&&s.tick&&s.tick(1,0),o&&(r&&Xn(t,r),o=!1)}}}function kl(t,e){const n=e.token={};function l(s,o,r,a){if(e.token!==n)return;e.resolved=a;let c=e.ctx;r!==void 0&&(c=c.slice(),c[r]=a);const f=s&&(e.current=s)(c);let d=!1;e.block&&(e.blocks?e.blocks.forEach((h,b)=>{b!==o&&h&&(Gt(),Ce(h,1,1,()=>{e.blocks[b]===h&&(e.blocks[b]=null)}),Xt())}):e.block.d(1),f.c(),ye(f,1),f.m(e.mount(),e.anchor),d=!0),e.block=f,e.blocks&&(e.blocks[o]=f),d&&ol()}if(cr(t)){const s=Zt();if(t.then(o=>{kt(s),l(e.then,1,e.value,o),kt(null)},o=>{if(kt(s),l(e.catch,2,e.error,o),kt(null),!e.hasCatch)throw o}),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,t),!0;e.resolved=t}}function Tr(t,e,n){const l=e.slice(),{resolved:s}=t;t.current===t.then&&(l[t.value]=s),t.current===t.catch&&(l[t.error]=s),t.block.p(l,n)}function ce(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Qn(t,e){const n={},l={},s={$$scope:1};let o=t.length;for(;o--;){const r=t[o],a=e[o];if(a){for(const c in r)c in a||(l[c]=1);for(const c in a)s[c]||(n[c]=a[c],s[c]=1);t[o]=a}else for(const c in r)s[c]=1}for(const r in l)r in n||(n[r]=void 0);return n}function gn(t){return typeof t=="object"&&t!==null?t:{}}function Ze(t){t&&t.c()}function qe(t,e,n){const{fragment:l,after_update:s}=t.$$;l&&l.m(e,n),Ie(()=>{const o=t.$$.on_mount.map(vo).filter(rn);t.$$.on_destroy?t.$$.on_destroy.push(...o):Re(o),t.$$.on_mount=[]}),s.forEach(Ie)}function He(t,e){const n=t.$$;n.fragment!==null&&(Cr(n.after_update),Re(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Rr(t,e){t.$$.dirty[0]===-1&&(Ht.push(t),kr(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function _t(t,e,n,l,s,o,r=null,a=[-1]){const c=sn;kt(t);const f=t.$$={fragment:null,ctx:[],props:o,update:ie,not_equal:s,bound:_l(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:_l(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};r&&r(f.root);let d=!1;if(f.ctx=n?n(t,e.props||{},(h,b,...m)=>{const _=m.length?m[0]:b;return f.ctx&&s(f.ctx[h],f.ctx[h]=_)&&(!f.skip_bound&&f.bound[h]&&f.bound[h](_),d&&Rr(t,h)),b}):[],f.update(),d=!0,Re(f.before_update),f.fragment=l?l(f.ctx):!1,e.target){if(e.hydrate){const h=_r(e.target);f.fragment&&f.fragment.l(h),h.forEach(j)}else f.fragment&&f.fragment.c();e.intro&&ye(t.$$.fragment),qe(t,e.target,e.anchor),ol()}kt(c)}class ht{constructor(){In(this,"$$");In(this,"$$set")}$destroy(){He(this,1),this.$destroy=ie}$on(e,n){if(!rn(n))return ie;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!ur(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const jr="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(jr);const $n={},Rn={},No={},Fo=/^:(.+)/,wl=4,Or=3,Ar=2,zr=1,Pr=1,on=t=>t.replace(/(^\/+|\/+$)/g,"").split("/"),qn=t=>t.replace(/(^\/+|\/+$)/g,""),Nr=(t,e)=>{const n=t.default?0:on(t.path).reduce((l,s)=>(l+=wl,s===""?l+=Pr:Fo.test(s)?l+=Ar:s[0]==="*"?l-=wl+zr:l+=Or,l),0);return{route:t,score:n,index:e}},Fr=t=>t.map(Nr).sort((e,n)=>e.score<n.score?1:e.score>n.score?-1:e.index-n.index),Cl=(t,e)=>{let n,l;const[s]=e.split("?"),o=on(s),r=o[0]==="",a=Fr(t);for(let c=0,f=a.length;c<f;c++){const d=a[c].route;let h=!1;if(d.default){l={route:d,params:{},uri:e};continue}const b=on(d.path),m={},_=Math.max(o.length,b.length);let g=0;for(;g<_;g++){const v=b[g],y=o[g];if(v&&v[0]==="*"){const C=v==="*"?"*":v.slice(1);m[C]=o.slice(g).map(decodeURIComponent).join("/");break}if(typeof y>"u"){h=!0;break}const w=Fo.exec(v);if(w&&!r){const C=decodeURIComponent(y);m[w[1]]=C}else if(v!==y){h=!0;break}}if(!h){n={route:d,params:m,uri:"/"+o.slice(0,g).join("/")};break}}return n||l||null},Hn=(t,e)=>t+(e?`?${e}`:""),Dr=(t,e)=>{if(t.startsWith("/"))return t;const[n,l]=t.split("?"),[s]=e.split("?"),o=on(n),r=on(s);if(o[0]==="")return Hn(s,l);if(!o[0].startsWith(".")){const f=r.concat(o).join("/");return Hn((s==="/"?"":"/")+f,l)}const a=r.concat(o),c=[];return a.forEach(f=>{f===".."?c.pop():f!=="."&&c.push(f)}),Hn("/"+c.join("/"),l)},El=(t,e)=>`${qn(e==="/"?t:`${qn(t)}/${qn(e)}`)}/`,Ur=t=>!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey),Do=()=>typeof window<"u"&&"document"in window&&"location"in window,Lr=t=>({active:t&4}),Sl=t=>({active:!!t[2]});function Ir(t){let e,n,l,s;const o=t[17].default,r=an(o,t,t[16],Sl);let a=[{href:t[0]},{"aria-current":t[2]},t[1],t[6]],c={};for(let f=0;f<a.length;f+=1)c=St(c,a[f]);return{c(){e=p("a"),r&&r.c(),bl(e,c)},m(f,d){A(f,e,d),r&&r.m(e,null),n=!0,l||(s=B(e,"click",t[5]),l=!0)},p(f,[d]){r&&r.p&&(!n||d&65540)&&un(r,o,f,f[16],n?cn(o,f[16],d,Lr):fn(f[16]),Sl),bl(e,c=Qn(a,[(!n||d&1)&&{href:f[0]},(!n||d&4)&&{"aria-current":f[2]},d&2&&f[1],d&64&&f[6]]))},i(f){n||(ye(r,f),n=!0)},o(f){Ce(r,f),n=!1},d(f){f&&j(e),r&&r.d(f),l=!1,s()}}}function Br(t,e,n){let l;const s=["to","replace","state","getProps","preserveScroll"];let o=hl(e,s),r,a,{$$slots:c={},$$scope:f}=e,{to:d="#"}=e,{replace:h=!1}=e,{state:b={}}=e,{getProps:m=()=>({})}=e,{preserveScroll:_=!1}=e;const g=Kt($n);Rt(t,g,I=>n(14,r=I));const{base:v}=Kt(Rn);Rt(t,v,I=>n(15,a=I));const{navigate:y}=Kt(No),w=vr();let C,L,R,F;const O=I=>{if(w("click",I),Ur(I)){I.preventDefault();const S=r.pathname===C||h;y(C,{state:b,replace:S,preserveScroll:_})}};return t.$$set=I=>{e=St(St({},e),Gn(I)),n(6,o=hl(e,s)),"to"in I&&n(7,d=I.to),"replace"in I&&n(8,h=I.replace),"state"in I&&n(9,b=I.state),"getProps"in I&&n(10,m=I.getProps),"preserveScroll"in I&&n(11,_=I.preserveScroll),"$$scope"in I&&n(16,f=I.$$scope)},t.$$.update=()=>{t.$$.dirty&32896&&n(0,C=Dr(d,a.uri)),t.$$.dirty&16385&&n(12,L=r.pathname.startsWith(C)),t.$$.dirty&16385&&n(13,R=C===r.pathname),t.$$.dirty&8192&&n(2,l=R?"page":void 0),n(1,F=m({location:r,href:C,isPartiallyCurrent:L,isCurrent:R,existingProps:o}))},[C,F,l,g,v,O,o,d,h,b,m,_,L,R,r,a,f,c]}class Bt extends ht{constructor(e){super(),_t(this,e,Br,Ir,ut,{to:7,replace:8,state:9,getProps:10,preserveScroll:11})}}const Mr=t=>({params:t&4}),Tl=t=>({params:t[2]});function Rl(t){let e,n,l,s;const o=[Hr,qr],r=[];function a(c,f){return c[0]?0:1}return e=a(t),n=r[e]=o[e](t),{c(){n.c(),l=ft()},m(c,f){r[e].m(c,f),A(c,l,f),s=!0},p(c,f){let d=e;e=a(c),e===d?r[e].p(c,f):(Gt(),Ce(r[d],1,1,()=>{r[d]=null}),Xt(),n=r[e],n?n.p(c,f):(n=r[e]=o[e](c),n.c()),ye(n,1),n.m(l.parentNode,l))},i(c){s||(ye(n),s=!0)},o(c){Ce(n),s=!1},d(c){c&&j(l),r[e].d(c)}}}function qr(t){let e;const n=t[8].default,l=an(n,t,t[7],Tl);return{c(){l&&l.c()},m(s,o){l&&l.m(s,o),e=!0},p(s,o){l&&l.p&&(!e||o&132)&&un(l,n,s,s[7],e?cn(n,s[7],o,Mr):fn(s[7]),Tl)},i(s){e||(ye(l,s),e=!0)},o(s){Ce(l,s),e=!1},d(s){l&&l.d(s)}}}function Hr(t){let e,n,l,s={ctx:t,current:null,token:null,hasCatch:!1,pending:Wr,then:Kr,catch:Jr,value:12,blocks:[,,,]};return kl(n=t[0],s),{c(){e=ft(),s.block.c()},m(o,r){A(o,e,r),s.block.m(o,s.anchor=r),s.mount=()=>e.parentNode,s.anchor=e,l=!0},p(o,r){t=o,s.ctx=t,r&1&&n!==(n=t[0])&&kl(n,s)||Tr(s,t,r)},i(o){l||(ye(s.block),l=!0)},o(o){for(let r=0;r<3;r+=1){const a=s.blocks[r];Ce(a)}l=!1},d(o){o&&j(e),s.block.d(o),s.token=null,s=null}}}function Jr(t){return{c:ie,m:ie,p:ie,i:ie,o:ie,d:ie}}function Kr(t){var a;let e,n,l;const s=[t[2],t[3]];var o=((a=t[12])==null?void 0:a.default)||t[12];function r(c,f){let d={};for(let h=0;h<s.length;h+=1)d=St(d,s[h]);return f!==void 0&&f&12&&(d=St(d,Qn(s,[f&4&&gn(c[2]),f&8&&gn(c[3])]))),{props:d}}return o&&(e=gl(o,r(t))),{c(){e&&Ze(e.$$.fragment),n=ft()},m(c,f){e&&qe(e,c,f),A(c,n,f),l=!0},p(c,f){var d;if(f&1&&o!==(o=((d=c[12])==null?void 0:d.default)||c[12])){if(e){Gt();const h=e;Ce(h.$$.fragment,1,0,()=>{He(h,1)}),Xt()}o?(e=gl(o,r(c,f)),Ze(e.$$.fragment),ye(e.$$.fragment,1),qe(e,n.parentNode,n)):e=null}else if(o){const h=f&12?Qn(s,[f&4&&gn(c[2]),f&8&&gn(c[3])]):{};e.$set(h)}},i(c){l||(e&&ye(e.$$.fragment,c),l=!0)},o(c){e&&Ce(e.$$.fragment,c),l=!1},d(c){c&&j(n),e&&He(e,c)}}}function Wr(t){return{c:ie,m:ie,p:ie,i:ie,o:ie,d:ie}}function Vr(t){let e,n,l=t[1]&&t[1].route===t[5]&&Rl(t);return{c(){l&&l.c(),e=ft()},m(s,o){l&&l.m(s,o),A(s,e,o),n=!0},p(s,[o]){s[1]&&s[1].route===s[5]?l?(l.p(s,o),o&2&&ye(l,1)):(l=Rl(s),l.c(),ye(l,1),l.m(e.parentNode,e)):l&&(Gt(),Ce(l,1,1,()=>{l=null}),Xt())},i(s){n||(ye(l),n=!0)},o(s){Ce(l),n=!1},d(s){s&&j(e),l&&l.d(s)}}}function Zr(t,e,n){let l,{$$slots:s={},$$scope:o}=e,{path:r=""}=e,{component:a=null}=e,c={},f={};const{registerRoute:d,unregisterRoute:h,activeRoute:b}=Kt(Rn);Rt(t,b,_=>n(1,l=_));const m={path:r,default:r===""};return d(m),gr(()=>{h(m)}),t.$$set=_=>{n(11,e=St(St({},e),Gn(_))),"path"in _&&n(6,r=_.path),"component"in _&&n(0,a=_.component),"$$scope"in _&&n(7,o=_.$$scope)},t.$$.update=()=>{if(l&&l.route===m){n(2,c=l.params);const{component:_,path:g,...v}=e;n(3,f=v),_&&(_.toString().startsWith("class ")?n(0,a=_):n(0,a=_())),Do()&&!l.preserveScroll&&(window==null||window.scrollTo(0,0))}},e=Gn(e),[a,l,c,f,b,m,r,o,s]}class Mt extends ht{constructor(e){super(),_t(this,e,Zr,Vr,ut,{path:6,component:0})}}const qt=[];function Gr(t,e){return{subscribe:ln(t,e).subscribe}}function ln(t,e=ie){let n;const l=new Set;function s(a){if(ut(t,a)&&(t=a,n)){const c=!qt.length;for(const f of l)f[1](),qt.push(f,t);if(c){for(let f=0;f<qt.length;f+=2)qt[f][0](qt[f+1]);qt.length=0}}}function o(a){s(a(t))}function r(a,c=ie){const f=[a,c];return l.add(f),l.size===1&&(n=e(s,o)||ie),a(t),()=>{l.delete(f),l.size===0&&n&&(n(),n=null)}}return{set:s,update:o,subscribe:r}}function Xr(t,e,n){const l=!Array.isArray(t),s=l?[t]:t;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=e.length<2;return Gr(n,(r,a)=>{let c=!1;const f=[];let d=0,h=ie;const b=()=>{if(d)return;h();const _=e(l?f[0]:f,r,a);o?r(_):h=rn(_)?_:ie},m=s.map((_,g)=>yo(_,v=>{f[g]=v,d&=~(1<<g),c&&b()},()=>{d|=1<<g}));return c=!0,b(),function(){Re(m),h(),c=!1}})}const Jn=t=>({...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}),Yr=t=>{const e=[];let n=Jn(t);return{get location(){return n},listen(l){e.push(l);const s=()=>{n=Jn(t),l({location:n,action:"POP"})};return t.addEventListener("popstate",s),()=>{t.removeEventListener("popstate",s);const o=e.indexOf(l);e.splice(o,1)}},navigate(l,{state:s,replace:o=!1,preserveScroll:r=!1,blurActiveElement:a=!0}={}){s={...s,key:Date.now()+""};try{o?t.history.replaceState(s,"",l):t.history.pushState(s,"",l)}catch{t.location[o?"replace":"assign"](l)}n=Jn(t),e.forEach(c=>c({location:n,action:"PUSH",preserveScroll:r})),a&&document.activeElement.blur()}}},Qr=(t="/")=>{let e=0;const n=[{pathname:t,search:""}],l=[];return{get location(){return n[e]},addEventListener(s,o){},removeEventListener(s,o){},history:{get entries(){return n},get index(){return e},get state(){return l[e]},pushState(s,o,r){const[a,c=""]=r.split("?");e++,n.push({pathname:a,search:c}),l.push(s)},replaceState(s,o,r){const[a,c=""]=r.split("?");n[e]={pathname:a,search:c},l[e]=s}}}},Uo=Yr(Do()?window:Qr()),{navigate:xc}=Uo,$r=t=>({route:t&4,location:t&2}),jl=t=>({route:t[2]&&t[2].uri,location:t[1]}),xr=t=>({route:t&4,location:t&2}),Ol=t=>({route:t[2]&&t[2].uri,location:t[1]});function ei(t){let e;const n=t[15].default,l=an(n,t,t[14],jl);return{c(){l&&l.c()},m(s,o){l&&l.m(s,o),e=!0},p(s,o){l&&l.p&&(!e||o&16390)&&un(l,n,s,s[14],e?cn(n,s[14],o,$r):fn(s[14]),jl)},i(s){e||(ye(l,s),e=!0)},o(s){Ce(l,s),e=!1},d(s){l&&l.d(s)}}}function ti(t){let e=t[1].pathname,n,l,s=Al(t);return{c(){s.c(),n=ft()},m(o,r){s.m(o,r),A(o,n,r),l=!0},p(o,r){r&2&&ut(e,e=o[1].pathname)?(Gt(),Ce(s,1,1,ie),Xt(),s=Al(o),s.c(),ye(s,1),s.m(n.parentNode,n)):s.p(o,r)},i(o){l||(ye(s),l=!0)},o(o){Ce(s),l=!1},d(o){o&&j(n),s.d(o)}}}function Al(t){let e,n,l,s;const o=t[15].default,r=an(o,t,t[14],Ol);return{c(){e=p("div"),r&&r.c()},m(a,c){A(a,e,c),r&&r.m(e,null),s=!0},p(a,c){r&&r.p&&(!s||c&16390)&&un(r,o,a,a[14],s?cn(o,a[14],c,xr):fn(a[14]),Ol)},i(a){s||(ye(r,a),a&&Ie(()=>{s&&(l&&l.end(1),n=Er(e,t[3],{}),n.start())}),s=!0)},o(a){Ce(r,a),n&&n.invalidate(),a&&(l=Sr(e,t[3],{})),s=!1},d(a){a&&j(e),r&&r.d(a),a&&l&&l.end()}}}function ni(t){let e,n,l,s;const o=[ti,ei],r=[];function a(c,f){return c[0]?0:1}return e=a(t),n=r[e]=o[e](t),{c(){n.c(),l=ft()},m(c,f){r[e].m(c,f),A(c,l,f),s=!0},p(c,[f]){let d=e;e=a(c),e===d?r[e].p(c,f):(Gt(),Ce(r[d],1,1,()=>{r[d]=null}),Xt(),n=r[e],n?n.p(c,f):(n=r[e]=o[e](c),n.c()),ye(n,1),n.m(l.parentNode,l))},i(c){s||(ye(n),s=!0)},o(c){Ce(n),s=!1},d(c){c&&j(l),r[e].d(c)}}}function li(t,e,n){let l,s,o,r,{$$slots:a={},$$scope:c}=e,{basepath:f="/"}=e,{url:d=null}=e,{viewtransition:h=null}=e,{history:b=Uo}=e;const m=(S,E,z)=>{const U=h(z);return typeof(U==null?void 0:U.fn)=="function"?U.fn(S,U):U};Bn(No,b);const _=Kt($n),g=Kt(Rn),v=ln([]);Rt(t,v,S=>n(12,s=S));const y=ln(null);Rt(t,y,S=>n(2,r=S));let w=!1;const C=_||ln(d?{pathname:d}:b.location);Rt(t,C,S=>n(1,l=S));const L=g?g.routerBase:ln({path:f,uri:f});Rt(t,L,S=>n(13,o=S));const R=Xr([L,y],([S,E])=>{if(!E)return S;const{path:z}=S,{route:U,uri:K}=E;return{path:U.default?z:U.path.replace(/\*.*$/,""),uri:K}}),F=S=>{const{path:E}=o;let{path:z}=S;if(S._path=z,S.path=El(E,z),typeof window>"u"){if(w)return;const U=Cl([S],l.pathname);U&&(y.set(U),w=!0)}else v.update(U=>[...U,S])},O=S=>{v.update(E=>E.filter(z=>z!==S))};let I=!1;return _||(zt(()=>b.listen(E=>{n(11,I=E.preserveScroll||!1),C.set(E.location)})),Bn($n,C)),Bn(Rn,{activeRoute:y,base:L,routerBase:R,registerRoute:F,unregisterRoute:O}),t.$$set=S=>{"basepath"in S&&n(8,f=S.basepath),"url"in S&&n(9,d=S.url),"viewtransition"in S&&n(0,h=S.viewtransition),"history"in S&&n(10,b=S.history),"$$scope"in S&&n(14,c=S.$$scope)},t.$$.update=()=>{if(t.$$.dirty&8192){const{path:S}=o;v.update(E=>E.map(z=>Object.assign(z,{path:El(S,z._path)})))}if(t.$$.dirty&6146){const S=Cl(s,l.pathname);y.set(S&&{...S,preserveScroll:I})}},[h,l,r,m,v,y,C,L,f,d,b,I,s,o,c,a]}class si extends ht{constructor(e){super(),_t(this,e,li,ni,ut,{basepath:8,url:9,viewtransition:0,history:10})}}function oi(t){let e;return{c(){e=D("ðŸ“Š Dashboard")},m(n,l){A(n,e,l)},d(n){n&&j(e)}}}function ri(t){let e;return{c(){e=D("ðŸ’° Transactions")},m(n,l){A(n,e,l)},d(n){n&&j(e)}}}function ii(t){let e;return{c(){e=D("ðŸ“ Upload Files")},m(n,l){A(n,e,l)},d(n){n&&j(e)}}}function ai(t){let e;return{c(){e=D("ðŸ·ï¸ Categories")},m(n,l){A(n,e,l)},d(n){n&&j(e)}}}function ci(t){let e;return{c(){e=D("âš™ï¸ Rules")},m(n,l){A(n,e,l)},d(n){n&&j(e)}}}function ui(t){let e;return{c(){e=D("ðŸ”§ Settings")},m(n,l){A(n,e,l)},d(n){n&&j(e)}}}function fi(t){let e,n,l,s,o,r,a,c,f,d,h,b,m,_,g,v,y,w,C,L,R,F,O,I,S,E,z,U,K;a=new Bt({props:{to:"/",$$slots:{default:[oi]},$$scope:{ctx:t}}}),d=new Bt({props:{to:"/transactions",$$slots:{default:[ri]},$$scope:{ctx:t}}}),m=new Bt({props:{to:"/upload",$$slots:{default:[ii]},$$scope:{ctx:t}}}),w=new Bt({props:{to:"/categories",$$slots:{default:[ai]},$$scope:{ctx:t}}}),R=new Bt({props:{to:"/rules",$$slots:{default:[ci]},$$scope:{ctx:t}}}),E=new Bt({props:{to:"/settings",$$slots:{default:[ui]},$$scope:{ctx:t}}});const J=t[0].default,X=an(J,t,t[1],null);return{c(){e=p("div"),n=p("nav"),l=p("h2"),l.textContent="Finance Consolidator",s=k(),o=p("ul"),r=p("li"),Ze(a.$$.fragment),c=k(),f=p("li"),Ze(d.$$.fragment),h=k(),b=p("li"),Ze(m.$$.fragment),_=k(),g=p("li"),v=k(),y=p("li"),Ze(w.$$.fragment),C=k(),L=p("li"),Ze(R.$$.fragment),F=k(),O=p("li"),I=k(),S=p("li"),Ze(E.$$.fragment),z=k(),U=p("main"),X&&X.c(),u(l,"class","svelte-6nd68z"),u(r,"class","svelte-6nd68z"),u(f,"class","svelte-6nd68z"),u(b,"class","svelte-6nd68z"),u(g,"class","nav-divider svelte-6nd68z"),u(y,"class","svelte-6nd68z"),u(L,"class","svelte-6nd68z"),u(O,"class","nav-divider svelte-6nd68z"),u(S,"class","svelte-6nd68z"),u(o,"class","svelte-6nd68z"),u(n,"class","sidebar svelte-6nd68z"),u(U,"class","main-content svelte-6nd68z"),u(e,"class","app-container svelte-6nd68z")},m(N,q){A(N,e,q),i(e,n),i(n,l),i(n,s),i(n,o),i(o,r),qe(a,r,null),i(o,c),i(o,f),qe(d,f,null),i(o,h),i(o,b),qe(m,b,null),i(o,_),i(o,g),i(o,v),i(o,y),qe(w,y,null),i(o,C),i(o,L),qe(R,L,null),i(o,F),i(o,O),i(o,I),i(o,S),qe(E,S,null),i(e,z),i(e,U),X&&X.m(U,null),K=!0},p(N,[q]){const W={};q&2&&(W.$$scope={dirty:q,ctx:N}),a.$set(W);const x={};q&2&&(x.$$scope={dirty:q,ctx:N}),d.$set(x);const te={};q&2&&(te.$$scope={dirty:q,ctx:N}),m.$set(te);const le={};q&2&&(le.$$scope={dirty:q,ctx:N}),w.$set(le);const Q={};q&2&&(Q.$$scope={dirty:q,ctx:N}),R.$set(Q);const ne={};q&2&&(ne.$$scope={dirty:q,ctx:N}),E.$set(ne),X&&X.p&&(!K||q&2)&&un(X,J,N,N[1],K?cn(J,N[1],q,null):fn(N[1]),null)},i(N){K||(ye(a.$$.fragment,N),ye(d.$$.fragment,N),ye(m.$$.fragment,N),ye(w.$$.fragment,N),ye(R.$$.fragment,N),ye(E.$$.fragment,N),ye(X,N),K=!0)},o(N){Ce(a.$$.fragment,N),Ce(d.$$.fragment,N),Ce(m.$$.fragment,N),Ce(w.$$.fragment,N),Ce(R.$$.fragment,N),Ce(E.$$.fragment,N),Ce(X,N),K=!1},d(N){N&&j(e),He(a),He(d),He(m),He(w),He(R),He(E),X&&X.d(N)}}}function di(t,e,n){let{$$slots:l={},$$scope:s}=e;return t.$$set=o=>{"$$scope"in o&&n(1,s=o.$$scope)},[l,s]}class pi extends ht{constructor(e){super(),_t(this,e,di,fi,ut,{})}}function Lo(t,e){return function(){return t.apply(e,arguments)}}const{toString:_i}=Object.prototype,{getPrototypeOf:rl}=Object,{iterator:An,toStringTag:Io}=Symbol,zn=(t=>e=>{const n=_i.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),mt=t=>(t=t.toLowerCase(),e=>zn(e)===t),Pn=t=>e=>typeof e===t,{isArray:Yt}=Array,Vt=Pn("undefined");function dn(t){return t!==null&&!Vt(t)&&t.constructor!==null&&!Vt(t.constructor)&&ot(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Bo=mt("ArrayBuffer");function hi(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Bo(t.buffer),e}const mi=Pn("string"),ot=Pn("function"),Mo=Pn("number"),pn=t=>t!==null&&typeof t=="object",bi=t=>t===!0||t===!1,kn=t=>{if(zn(t)!=="object")return!1;const e=rl(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Io in t)&&!(An in t)},gi=t=>{if(!pn(t)||dn(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},vi=mt("Date"),yi=mt("File"),ki=mt("Blob"),wi=mt("FileList"),Ci=t=>pn(t)&&ot(t.pipe),Ei=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ot(t.append)&&((e=zn(t))==="formdata"||e==="object"&&ot(t.toString)&&t.toString()==="[object FormData]"))},Si=mt("URLSearchParams"),[Ti,Ri,ji,Oi]=["ReadableStream","Request","Response","Headers"].map(mt),Ai=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _n(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let l,s;if(typeof t!="object"&&(t=[t]),Yt(t))for(l=0,s=t.length;l<s;l++)e.call(null,t[l],l,t);else{if(dn(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),r=o.length;let a;for(l=0;l<r;l++)a=o[l],e.call(null,t[a],a,t)}}function qo(t,e){if(dn(t))return null;e=e.toLowerCase();const n=Object.keys(t);let l=n.length,s;for(;l-- >0;)if(s=n[l],e===s.toLowerCase())return s;return null}const jt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ho=t=>!Vt(t)&&t!==jt;function xn(){const{caseless:t,skipUndefined:e}=Ho(this)&&this||{},n={},l=(s,o)=>{const r=t&&qo(n,o)||o;kn(n[r])&&kn(s)?n[r]=xn(n[r],s):kn(s)?n[r]=xn({},s):Yt(s)?n[r]=s.slice():(!e||!Vt(s))&&(n[r]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&_n(arguments[s],l);return n}const zi=(t,e,n,{allOwnKeys:l}={})=>(_n(e,(s,o)=>{n&&ot(s)?t[o]=Lo(s,n):t[o]=s},{allOwnKeys:l}),t),Pi=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ni=(t,e,n,l)=>{t.prototype=Object.create(e.prototype,l),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Fi=(t,e,n,l)=>{let s,o,r;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)r=s[o],(!l||l(r,t,e))&&!a[r]&&(e[r]=t[r],a[r]=!0);t=n!==!1&&rl(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Di=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const l=t.indexOf(e,n);return l!==-1&&l===n},Ui=t=>{if(!t)return null;if(Yt(t))return t;let e=t.length;if(!Mo(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Li=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&rl(Uint8Array)),Ii=(t,e)=>{const l=(t&&t[An]).call(t);let s;for(;(s=l.next())&&!s.done;){const o=s.value;e.call(t,o[0],o[1])}},Bi=(t,e)=>{let n;const l=[];for(;(n=t.exec(e))!==null;)l.push(n);return l},Mi=mt("HTMLFormElement"),qi=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,l,s){return l.toUpperCase()+s}),zl=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Hi=mt("RegExp"),Jo=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),l={};_n(n,(s,o)=>{let r;(r=e(s,o,t))!==!1&&(l[o]=r||s)}),Object.defineProperties(t,l)},Ji=t=>{Jo(t,(e,n)=>{if(ot(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const l=t[n];if(ot(l)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Ki=(t,e)=>{const n={},l=s=>{s.forEach(o=>{n[o]=!0})};return Yt(t)?l(t):l(String(t).split(e)),n},Wi=()=>{},Vi=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Zi(t){return!!(t&&ot(t.append)&&t[Io]==="FormData"&&t[An])}const Gi=t=>{const e=new Array(10),n=(l,s)=>{if(pn(l)){if(e.indexOf(l)>=0)return;if(dn(l))return l;if(!("toJSON"in l)){e[s]=l;const o=Yt(l)?[]:{};return _n(l,(r,a)=>{const c=n(r,s+1);!Vt(c)&&(o[a]=c)}),e[s]=void 0,o}}return l};return n(t,0)},Xi=mt("AsyncFunction"),Yi=t=>t&&(pn(t)||ot(t))&&ot(t.then)&&ot(t.catch),Ko=((t,e)=>t?setImmediate:e?((n,l)=>(jt.addEventListener("message",({source:s,data:o})=>{s===jt&&o===n&&l.length&&l.shift()()},!1),s=>{l.push(s),jt.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ot(jt.postMessage)),Qi=typeof queueMicrotask<"u"?queueMicrotask.bind(jt):typeof process<"u"&&process.nextTick||Ko,$i=t=>t!=null&&ot(t[An]),T={isArray:Yt,isArrayBuffer:Bo,isBuffer:dn,isFormData:Ei,isArrayBufferView:hi,isString:mi,isNumber:Mo,isBoolean:bi,isObject:pn,isPlainObject:kn,isEmptyObject:gi,isReadableStream:Ti,isRequest:Ri,isResponse:ji,isHeaders:Oi,isUndefined:Vt,isDate:vi,isFile:yi,isBlob:ki,isRegExp:Hi,isFunction:ot,isStream:Ci,isURLSearchParams:Si,isTypedArray:Li,isFileList:wi,forEach:_n,merge:xn,extend:zi,trim:Ai,stripBOM:Pi,inherits:Ni,toFlatObject:Fi,kindOf:zn,kindOfTest:mt,endsWith:Di,toArray:Ui,forEachEntry:Ii,matchAll:Bi,isHTMLForm:Mi,hasOwnProperty:zl,hasOwnProp:zl,reduceDescriptors:Jo,freezeMethods:Ji,toObjectSet:Ki,toCamelCase:qi,noop:Wi,toFiniteNumber:Vi,findKey:qo,global:jt,isContextDefined:Ho,isSpecCompliantForm:Zi,toJSONObject:Gi,isAsyncFn:Xi,isThenable:Yi,setImmediate:Ko,asap:Qi,isIterable:$i};function de(t,e,n,l,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),l&&(this.request=l),s&&(this.response=s,this.status=s.status?s.status:null)}T.inherits(de,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});const Wo=de.prototype,Vo={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Vo[t]={value:t}});Object.defineProperties(de,Vo);Object.defineProperty(Wo,"isAxiosError",{value:!0});de.from=(t,e,n,l,s,o)=>{const r=Object.create(Wo);T.toFlatObject(t,r,function(d){return d!==Error.prototype},f=>f!=="isAxiosError");const a=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return de.call(r,a,c,n,l,s),t&&r.cause==null&&Object.defineProperty(r,"cause",{value:t,configurable:!0}),r.name=t&&t.name||"Error",o&&Object.assign(r,o),r};const xi=null;function el(t){return T.isPlainObject(t)||T.isArray(t)}function Zo(t){return T.endsWith(t,"[]")?t.slice(0,-2):t}function Pl(t,e,n){return t?t.concat(e).map(function(s,o){return s=Zo(s),!n&&o?"["+s+"]":s}).join(n?".":""):e}function ea(t){return T.isArray(t)&&!t.some(el)}const ta=T.toFlatObject(T,{},null,function(e){return/^is[A-Z]/.test(e)});function Nn(t,e,n){if(!T.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=T.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!T.isUndefined(v[g])});const l=n.metaTokens,s=n.visitor||d,o=n.dots,r=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(e);if(!T.isFunction(s))throw new TypeError("visitor must be a function");function f(_){if(_===null)return"";if(T.isDate(_))return _.toISOString();if(T.isBoolean(_))return _.toString();if(!c&&T.isBlob(_))throw new de("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(_)||T.isTypedArray(_)?c&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function d(_,g,v){let y=_;if(_&&!v&&typeof _=="object"){if(T.endsWith(g,"{}"))g=l?g:g.slice(0,-2),_=JSON.stringify(_);else if(T.isArray(_)&&ea(_)||(T.isFileList(_)||T.endsWith(g,"[]"))&&(y=T.toArray(_)))return g=Zo(g),y.forEach(function(C,L){!(T.isUndefined(C)||C===null)&&e.append(r===!0?Pl([g],L,o):r===null?g:g+"[]",f(C))}),!1}return el(_)?!0:(e.append(Pl(v,g,o),f(_)),!1)}const h=[],b=Object.assign(ta,{defaultVisitor:d,convertValue:f,isVisitable:el});function m(_,g){if(!T.isUndefined(_)){if(h.indexOf(_)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(_),T.forEach(_,function(y,w){(!(T.isUndefined(y)||y===null)&&s.call(e,y,T.isString(w)?w.trim():w,g,b))===!0&&m(y,g?g.concat(w):[w])}),h.pop()}}if(!T.isObject(t))throw new TypeError("data must be an object");return m(t),e}function Nl(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(l){return e[l]})}function il(t,e){this._pairs=[],t&&Nn(t,this,e)}const Go=il.prototype;Go.append=function(e,n){this._pairs.push([e,n])};Go.toString=function(e){const n=e?function(l){return e.call(this,l,Nl)}:Nl;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function na(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Xo(t,e,n){if(!e)return t;const l=n&&n.encode||na;T.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(e,n):o=T.isURLSearchParams(e)?e.toString():new il(e,n).toString(l),o){const r=t.indexOf("#");r!==-1&&(t=t.slice(0,r)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Fl{constructor(){this.handlers=[]}use(e,n,l){return this.handlers.push({fulfilled:e,rejected:n,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){T.forEach(this.handlers,function(l){l!==null&&e(l)})}}const Yo={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},la=typeof URLSearchParams<"u"?URLSearchParams:il,sa=typeof FormData<"u"?FormData:null,oa=typeof Blob<"u"?Blob:null,ra={isBrowser:!0,classes:{URLSearchParams:la,FormData:sa,Blob:oa},protocols:["http","https","file","blob","url","data"]},al=typeof window<"u"&&typeof document<"u",tl=typeof navigator=="object"&&navigator||void 0,ia=al&&(!tl||["ReactNative","NativeScript","NS"].indexOf(tl.product)<0),aa=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ca=al&&window.location.href||"http://localhost",ua=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:al,hasStandardBrowserEnv:ia,hasStandardBrowserWebWorkerEnv:aa,navigator:tl,origin:ca},Symbol.toStringTag,{value:"Module"})),Ge={...ua,...ra};function fa(t,e){return Nn(t,new Ge.classes.URLSearchParams,{visitor:function(n,l,s,o){return Ge.isNode&&T.isBuffer(n)?(this.append(l,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function da(t){return T.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function pa(t){const e={},n=Object.keys(t);let l;const s=n.length;let o;for(l=0;l<s;l++)o=n[l],e[o]=t[o];return e}function Qo(t){function e(n,l,s,o){let r=n[o++];if(r==="__proto__")return!0;const a=Number.isFinite(+r),c=o>=n.length;return r=!r&&T.isArray(s)?s.length:r,c?(T.hasOwnProp(s,r)?s[r]=[s[r],l]:s[r]=l,!a):((!s[r]||!T.isObject(s[r]))&&(s[r]=[]),e(n,l,s[r],o)&&T.isArray(s[r])&&(s[r]=pa(s[r])),!a)}if(T.isFormData(t)&&T.isFunction(t.entries)){const n={};return T.forEachEntry(t,(l,s)=>{e(da(l),s,n,0)}),n}return null}function _a(t,e,n){if(T.isString(t))try{return(e||JSON.parse)(t),T.trim(t)}catch(l){if(l.name!=="SyntaxError")throw l}return(n||JSON.stringify)(t)}const hn={transitional:Yo,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const l=n.getContentType()||"",s=l.indexOf("application/json")>-1,o=T.isObject(e);if(o&&T.isHTMLForm(e)&&(e=new FormData(e)),T.isFormData(e))return s?JSON.stringify(Qo(e)):e;if(T.isArrayBuffer(e)||T.isBuffer(e)||T.isStream(e)||T.isFile(e)||T.isBlob(e)||T.isReadableStream(e))return e;if(T.isArrayBufferView(e))return e.buffer;if(T.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(l.indexOf("application/x-www-form-urlencoded")>-1)return fa(e,this.formSerializer).toString();if((a=T.isFileList(e))||l.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Nn(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),_a(e)):e}],transformResponse:[function(e){const n=this.transitional||hn.transitional,l=n&&n.forcedJSONParsing,s=this.responseType==="json";if(T.isResponse(e)||T.isReadableStream(e))return e;if(e&&T.isString(e)&&(l&&!this.responseType||s)){const r=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(a){if(r)throw a.name==="SyntaxError"?de.from(a,de.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ge.classes.FormData,Blob:Ge.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],t=>{hn.headers[t]={}});const ha=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ma=t=>{const e={};let n,l,s;return t&&t.split(`
`).forEach(function(r){s=r.indexOf(":"),n=r.substring(0,s).trim().toLowerCase(),l=r.substring(s+1).trim(),!(!n||e[n]&&ha[n])&&(n==="set-cookie"?e[n]?e[n].push(l):e[n]=[l]:e[n]=e[n]?e[n]+", "+l:l)}),e},Dl=Symbol("internals");function nn(t){return t&&String(t).trim().toLowerCase()}function wn(t){return t===!1||t==null?t:T.isArray(t)?t.map(wn):String(t)}function ba(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=n.exec(t);)e[l[1]]=l[2];return e}const ga=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Kn(t,e,n,l,s){if(T.isFunction(l))return l.call(this,e,n);if(s&&(e=n),!!T.isString(e)){if(T.isString(l))return e.indexOf(l)!==-1;if(T.isRegExp(l))return l.test(e)}}function va(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,l)=>n.toUpperCase()+l)}function ya(t,e){const n=T.toCamelCase(" "+e);["get","set","has"].forEach(l=>{Object.defineProperty(t,l+n,{value:function(s,o,r){return this[l].call(this,e,s,o,r)},configurable:!0})})}let rt=class{constructor(e){e&&this.set(e)}set(e,n,l){const s=this;function o(a,c,f){const d=nn(c);if(!d)throw new Error("header name must be a non-empty string");const h=T.findKey(s,d);(!h||s[h]===void 0||f===!0||f===void 0&&s[h]!==!1)&&(s[h||c]=wn(a))}const r=(a,c)=>T.forEach(a,(f,d)=>o(f,d,c));if(T.isPlainObject(e)||e instanceof this.constructor)r(e,n);else if(T.isString(e)&&(e=e.trim())&&!ga(e))r(ma(e),n);else if(T.isObject(e)&&T.isIterable(e)){let a={},c,f;for(const d of e){if(!T.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[f=d[0]]=(c=a[f])?T.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}r(a,n)}else e!=null&&o(n,e,l);return this}get(e,n){if(e=nn(e),e){const l=T.findKey(this,e);if(l){const s=this[l];if(!n)return s;if(n===!0)return ba(s);if(T.isFunction(n))return n.call(this,s,l);if(T.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=nn(e),e){const l=T.findKey(this,e);return!!(l&&this[l]!==void 0&&(!n||Kn(this,this[l],l,n)))}return!1}delete(e,n){const l=this;let s=!1;function o(r){if(r=nn(r),r){const a=T.findKey(l,r);a&&(!n||Kn(l,l[a],a,n))&&(delete l[a],s=!0)}}return T.isArray(e)?e.forEach(o):o(e),s}clear(e){const n=Object.keys(this);let l=n.length,s=!1;for(;l--;){const o=n[l];(!e||Kn(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const n=this,l={};return T.forEach(this,(s,o)=>{const r=T.findKey(l,o);if(r){n[r]=wn(s),delete n[o];return}const a=e?va(o):String(o).trim();a!==o&&delete n[o],n[a]=wn(s),l[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return T.forEach(this,(l,s)=>{l!=null&&l!==!1&&(n[s]=e&&T.isArray(l)?l.join(", "):l)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const l=new this(e);return n.forEach(s=>l.set(s)),l}static accessor(e){const l=(this[Dl]=this[Dl]={accessors:{}}).accessors,s=this.prototype;function o(r){const a=nn(r);l[a]||(ya(s,r),l[a]=!0)}return T.isArray(e)?e.forEach(o):o(e),this}};rt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(rt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(l){this[n]=l}}});T.freezeMethods(rt);function Wn(t,e){const n=this||hn,l=e||n,s=rt.from(l.headers);let o=l.data;return T.forEach(t,function(a){o=a.call(n,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function $o(t){return!!(t&&t.__CANCEL__)}function Qt(t,e,n){de.call(this,t??"canceled",de.ERR_CANCELED,e,n),this.name="CanceledError"}T.inherits(Qt,de,{__CANCEL__:!0});function xo(t,e,n){const l=n.config.validateStatus;!n.status||!l||l(n.status)?t(n):e(new de("Request failed with status code "+n.status,[de.ERR_BAD_REQUEST,de.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function ka(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function wa(t,e){t=t||10;const n=new Array(t),l=new Array(t);let s=0,o=0,r;return e=e!==void 0?e:1e3,function(c){const f=Date.now(),d=l[o];r||(r=f),n[s]=c,l[s]=f;let h=o,b=0;for(;h!==s;)b+=n[h++],h=h%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),f-r<e)return;const m=d&&f-d;return m?Math.round(b*1e3/m):void 0}}function Ca(t,e){let n=0,l=1e3/e,s,o;const r=(f,d=Date.now())=>{n=d,s=null,o&&(clearTimeout(o),o=null),t(...f)};return[(...f)=>{const d=Date.now(),h=d-n;h>=l?r(f,d):(s=f,o||(o=setTimeout(()=>{o=null,r(s)},l-h)))},()=>s&&r(s)]}const jn=(t,e,n=3)=>{let l=0;const s=wa(50,250);return Ca(o=>{const r=o.loaded,a=o.lengthComputable?o.total:void 0,c=r-l,f=s(c),d=r<=a;l=r;const h={loaded:r,total:a,progress:a?r/a:void 0,bytes:c,rate:f||void 0,estimated:f&&a&&d?(a-r)/f:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},Ul=(t,e)=>{const n=t!=null;return[l=>e[0]({lengthComputable:n,total:t,loaded:l}),e[1]]},Ll=t=>(...e)=>T.asap(()=>t(...e)),Ea=Ge.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ge.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ge.origin),Ge.navigator&&/(msie|trident)/i.test(Ge.navigator.userAgent)):()=>!0,Sa=Ge.hasStandardBrowserEnv?{write(t,e,n,l,s,o,r){if(typeof document>"u")return;const a=[`${t}=${encodeURIComponent(e)}`];T.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),T.isString(l)&&a.push(`path=${l}`),T.isString(s)&&a.push(`domain=${s}`),o===!0&&a.push("secure"),T.isString(r)&&a.push(`SameSite=${r}`),document.cookie=a.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Ta(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Ra(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function er(t,e,n){let l=!Ta(e);return t&&(l||n==!1)?Ra(t,e):e}const Il=t=>t instanceof rt?{...t}:t;function At(t,e){e=e||{};const n={};function l(f,d,h,b){return T.isPlainObject(f)&&T.isPlainObject(d)?T.merge.call({caseless:b},f,d):T.isPlainObject(d)?T.merge({},d):T.isArray(d)?d.slice():d}function s(f,d,h,b){if(T.isUndefined(d)){if(!T.isUndefined(f))return l(void 0,f,h,b)}else return l(f,d,h,b)}function o(f,d){if(!T.isUndefined(d))return l(void 0,d)}function r(f,d){if(T.isUndefined(d)){if(!T.isUndefined(f))return l(void 0,f)}else return l(void 0,d)}function a(f,d,h){if(h in e)return l(f,d);if(h in t)return l(void 0,f)}const c={url:o,method:o,data:o,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:a,headers:(f,d,h)=>s(Il(f),Il(d),h,!0)};return T.forEach(Object.keys({...t,...e}),function(d){const h=c[d]||s,b=h(t[d],e[d],d);T.isUndefined(b)&&h!==a||(n[d]=b)}),n}const tr=t=>{const e=At({},t);let{data:n,withXSRFToken:l,xsrfHeaderName:s,xsrfCookieName:o,headers:r,auth:a}=e;if(e.headers=r=rt.from(r),e.url=Xo(er(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&r.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),T.isFormData(n)){if(Ge.hasStandardBrowserEnv||Ge.hasStandardBrowserWebWorkerEnv)r.setContentType(void 0);else if(T.isFunction(n.getHeaders)){const c=n.getHeaders(),f=["content-type","content-length"];Object.entries(c).forEach(([d,h])=>{f.includes(d.toLowerCase())&&r.set(d,h)})}}if(Ge.hasStandardBrowserEnv&&(l&&T.isFunction(l)&&(l=l(e)),l||l!==!1&&Ea(e.url))){const c=s&&o&&Sa.read(o);c&&r.set(s,c)}return e},ja=typeof XMLHttpRequest<"u",Oa=ja&&function(t){return new Promise(function(n,l){const s=tr(t);let o=s.data;const r=rt.from(s.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:f}=s,d,h,b,m,_;function g(){m&&m(),_&&_(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function y(){if(!v)return;const C=rt.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),R={data:!a||a==="text"||a==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:C,config:t,request:v};xo(function(O){n(O),g()},function(O){l(O),g()},R),v=null}"onloadend"in v?v.onloadend=y:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(y)},v.onabort=function(){v&&(l(new de("Request aborted",de.ECONNABORTED,t,v)),v=null)},v.onerror=function(L){const R=L&&L.message?L.message:"Network Error",F=new de(R,de.ERR_NETWORK,t,v);F.event=L||null,l(F),v=null},v.ontimeout=function(){let L=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const R=s.transitional||Yo;s.timeoutErrorMessage&&(L=s.timeoutErrorMessage),l(new de(L,R.clarifyTimeoutError?de.ETIMEDOUT:de.ECONNABORTED,t,v)),v=null},o===void 0&&r.setContentType(null),"setRequestHeader"in v&&T.forEach(r.toJSON(),function(L,R){v.setRequestHeader(R,L)}),T.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),a&&a!=="json"&&(v.responseType=s.responseType),f&&([b,_]=jn(f,!0),v.addEventListener("progress",b)),c&&v.upload&&([h,m]=jn(c),v.upload.addEventListener("progress",h),v.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(d=C=>{v&&(l(!C||C.type?new Qt(null,t,v):C),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const w=ka(s.url);if(w&&Ge.protocols.indexOf(w)===-1){l(new de("Unsupported protocol "+w+":",de.ERR_BAD_REQUEST,t));return}v.send(o||null)})},Aa=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let l=new AbortController,s;const o=function(f){if(!s){s=!0,a();const d=f instanceof Error?f:this.reason;l.abort(d instanceof de?d:new Qt(d instanceof Error?d.message:d))}};let r=e&&setTimeout(()=>{r=null,o(new de(`timeout ${e} of ms exceeded`,de.ETIMEDOUT))},e);const a=()=>{t&&(r&&clearTimeout(r),r=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),t=null)};t.forEach(f=>f.addEventListener("abort",o));const{signal:c}=l;return c.unsubscribe=()=>T.asap(a),c}},za=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let l=0,s;for(;l<n;)s=l+e,yield t.slice(l,s),l=s},Pa=async function*(t,e){for await(const n of Na(t))yield*za(n,e)},Na=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:l}=await e.read();if(n)break;yield l}}finally{await e.cancel()}},Bl=(t,e,n,l)=>{const s=Pa(t,e);let o=0,r,a=c=>{r||(r=!0,l&&l(c))};return new ReadableStream({async pull(c){try{const{done:f,value:d}=await s.next();if(f){a(),c.close();return}let h=d.byteLength;if(n){let b=o+=h;n(b)}c.enqueue(new Uint8Array(d))}catch(f){throw a(f),f}},cancel(c){return a(c),s.return()}},{highWaterMark:2})},Ml=64*1024,{isFunction:vn}=T,Fa=(({Request:t,Response:e})=>({Request:t,Response:e}))(T.global),{ReadableStream:ql,TextEncoder:Hl}=T.global,Jl=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Da=t=>{t=T.merge.call({skipUndefined:!0},Fa,t);const{fetch:e,Request:n,Response:l}=t,s=e?vn(e):typeof fetch=="function",o=vn(n),r=vn(l);if(!s)return!1;const a=s&&vn(ql),c=s&&(typeof Hl=="function"?(_=>g=>_.encode(g))(new Hl):async _=>new Uint8Array(await new n(_).arrayBuffer())),f=o&&a&&Jl(()=>{let _=!1;const g=new n(Ge.origin,{body:new ql,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!g}),d=r&&a&&Jl(()=>T.isReadableStream(new l("").body)),h={stream:d&&(_=>_.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!h[_]&&(h[_]=(g,v)=>{let y=g&&g[_];if(y)return y.call(g);throw new de(`Response type '${_}' is not supported`,de.ERR_NOT_SUPPORT,v)})});const b=async _=>{if(_==null)return 0;if(T.isBlob(_))return _.size;if(T.isSpecCompliantForm(_))return(await new n(Ge.origin,{method:"POST",body:_}).arrayBuffer()).byteLength;if(T.isArrayBufferView(_)||T.isArrayBuffer(_))return _.byteLength;if(T.isURLSearchParams(_)&&(_=_+""),T.isString(_))return(await c(_)).byteLength},m=async(_,g)=>{const v=T.toFiniteNumber(_.getContentLength());return v??b(g)};return async _=>{let{url:g,method:v,data:y,signal:w,cancelToken:C,timeout:L,onDownloadProgress:R,onUploadProgress:F,responseType:O,headers:I,withCredentials:S="same-origin",fetchOptions:E}=tr(_),z=e||fetch;O=O?(O+"").toLowerCase():"text";let U=Aa([w,C&&C.toAbortSignal()],L),K=null;const J=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let X;try{if(F&&f&&v!=="get"&&v!=="head"&&(X=await m(I,y))!==0){let le=new n(g,{method:"POST",body:y,duplex:"half"}),Q;if(T.isFormData(y)&&(Q=le.headers.get("content-type"))&&I.setContentType(Q),le.body){const[ne,pe]=Ul(X,jn(Ll(F)));y=Bl(le.body,Ml,ne,pe)}}T.isString(S)||(S=S?"include":"omit");const N=o&&"credentials"in n.prototype,q={...E,signal:U,method:v.toUpperCase(),headers:I.normalize().toJSON(),body:y,duplex:"half",credentials:N?S:void 0};K=o&&new n(g,q);let W=await(o?z(K,E):z(g,q));const x=d&&(O==="stream"||O==="response");if(d&&(R||x&&J)){const le={};["status","statusText","headers"].forEach(P=>{le[P]=W[P]});const Q=T.toFiniteNumber(W.headers.get("content-length")),[ne,pe]=R&&Ul(Q,jn(Ll(R),!0))||[];W=new l(Bl(W.body,Ml,ne,()=>{pe&&pe(),J&&J()}),le)}O=O||"text";let te=await h[T.findKey(h,O)||"text"](W,_);return!x&&J&&J(),await new Promise((le,Q)=>{xo(le,Q,{data:te,headers:rt.from(W.headers),status:W.status,statusText:W.statusText,config:_,request:K})})}catch(N){throw J&&J(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new de("Network Error",de.ERR_NETWORK,_,K),{cause:N.cause||N}):de.from(N,N&&N.code,_,K)}}},Ua=new Map,nr=t=>{let e=t&&t.env||{};const{fetch:n,Request:l,Response:s}=e,o=[l,s,n];let r=o.length,a=r,c,f,d=Ua;for(;a--;)c=o[a],f=d.get(c),f===void 0&&d.set(c,f=a?new Map:Da(e)),d=f;return f};nr();const cl={http:xi,xhr:Oa,fetch:{get:nr}};T.forEach(cl,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Kl=t=>`- ${t}`,La=t=>T.isFunction(t)||t===null||t===!1;function Ia(t,e){t=T.isArray(t)?t:[t];const{length:n}=t;let l,s;const o={};for(let r=0;r<n;r++){l=t[r];let a;if(s=l,!La(l)&&(s=cl[(a=String(l)).toLowerCase()],s===void 0))throw new de(`Unknown adapter '${a}'`);if(s&&(T.isFunction(s)||(s=s.get(e))))break;o[a||"#"+r]=s}if(!s){const r=Object.entries(o).map(([c,f])=>`adapter ${c} `+(f===!1?"is not supported by the environment":"is not available in the build"));let a=n?r.length>1?`since :
`+r.map(Kl).join(`
`):" "+Kl(r[0]):"as no adapter specified";throw new de("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const lr={getAdapter:Ia,adapters:cl};function Vn(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Qt(null,t)}function Wl(t){return Vn(t),t.headers=rt.from(t.headers),t.data=Wn.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),lr.getAdapter(t.adapter||hn.adapter,t)(t).then(function(l){return Vn(t),l.data=Wn.call(t,t.transformResponse,l),l.headers=rt.from(l.headers),l},function(l){return $o(l)||(Vn(t),l&&l.response&&(l.response.data=Wn.call(t,t.transformResponse,l.response),l.response.headers=rt.from(l.response.headers))),Promise.reject(l)})}const sr="1.13.2",Fn={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Fn[t]=function(l){return typeof l===t||"a"+(e<1?"n ":" ")+t}});const Vl={};Fn.transitional=function(e,n,l){function s(o,r){return"[Axios v"+sr+"] Transitional option '"+o+"'"+r+(l?". "+l:"")}return(o,r,a)=>{if(e===!1)throw new de(s(r," has been removed"+(n?" in "+n:"")),de.ERR_DEPRECATED);return n&&!Vl[r]&&(Vl[r]=!0,console.warn(s(r," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,r,a):!0}};Fn.spelling=function(e){return(n,l)=>(console.warn(`${l} is likely a misspelling of ${e}`),!0)};function Ba(t,e,n){if(typeof t!="object")throw new de("options must be an object",de.ERR_BAD_OPTION_VALUE);const l=Object.keys(t);let s=l.length;for(;s-- >0;){const o=l[s],r=e[o];if(r){const a=t[o],c=a===void 0||r(a,o,t);if(c!==!0)throw new de("option "+o+" must be "+c,de.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new de("Unknown option "+o,de.ERR_BAD_OPTION)}}const Cn={assertOptions:Ba,validators:Fn},yt=Cn.validators;let Ot=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Fl,response:new Fl}}async request(e,n){try{return await this._request(e,n)}catch(l){if(l instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{l.stack?o&&!String(l.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+o):l.stack=o}catch{}}throw l}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=At(this.defaults,n);const{transitional:l,paramsSerializer:s,headers:o}=n;l!==void 0&&Cn.assertOptions(l,{silentJSONParsing:yt.transitional(yt.boolean),forcedJSONParsing:yt.transitional(yt.boolean),clarifyTimeoutError:yt.transitional(yt.boolean)},!1),s!=null&&(T.isFunction(s)?n.paramsSerializer={serialize:s}:Cn.assertOptions(s,{encode:yt.function,serialize:yt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Cn.assertOptions(n,{baseUrl:yt.spelling("baseURL"),withXsrfToken:yt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let r=o&&T.merge(o.common,o[n.method]);o&&T.forEach(["delete","get","head","post","put","patch","common"],_=>{delete o[_]}),n.headers=rt.concat(r,o);const a=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(c=c&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const f=[];this.interceptors.response.forEach(function(g){f.push(g.fulfilled,g.rejected)});let d,h=0,b;if(!c){const _=[Wl.bind(this),void 0];for(_.unshift(...a),_.push(...f),b=_.length,d=Promise.resolve(n);h<b;)d=d.then(_[h++],_[h++]);return d}b=a.length;let m=n;for(;h<b;){const _=a[h++],g=a[h++];try{m=_(m)}catch(v){g.call(this,v);break}}try{d=Wl.call(this,m)}catch(_){return Promise.reject(_)}for(h=0,b=f.length;h<b;)d=d.then(f[h++],f[h++]);return d}getUri(e){e=At(this.defaults,e);const n=er(e.baseURL,e.url,e.allowAbsoluteUrls);return Xo(n,e.params,e.paramsSerializer)}};T.forEach(["delete","get","head","options"],function(e){Ot.prototype[e]=function(n,l){return this.request(At(l||{},{method:e,url:n,data:(l||{}).data}))}});T.forEach(["post","put","patch"],function(e){function n(l){return function(o,r,a){return this.request(At(a||{},{method:e,headers:l?{"Content-Type":"multipart/form-data"}:{},url:o,data:r}))}}Ot.prototype[e]=n(),Ot.prototype[e+"Form"]=n(!0)});let Ma=class or{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const l=this;this.promise.then(s=>{if(!l._listeners)return;let o=l._listeners.length;for(;o-- >0;)l._listeners[o](s);l._listeners=null}),this.promise.then=s=>{let o;const r=new Promise(a=>{l.subscribe(a),o=a}).then(s);return r.cancel=function(){l.unsubscribe(o)},r},e(function(o,r,a){l.reason||(l.reason=new Qt(o,r,a),n(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=l=>{e.abort(l)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new or(function(s){e=s}),cancel:e}}};function qa(t){return function(n){return t.apply(null,n)}}function Ha(t){return T.isObject(t)&&t.isAxiosError===!0}const nl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(nl).forEach(([t,e])=>{nl[e]=t});function rr(t){const e=new Ot(t),n=Lo(Ot.prototype.request,e);return T.extend(n,Ot.prototype,e,{allOwnKeys:!0}),T.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return rr(At(t,s))},n}const De=rr(hn);De.Axios=Ot;De.CanceledError=Qt;De.CancelToken=Ma;De.isCancel=$o;De.VERSION=sr;De.toFormData=Nn;De.AxiosError=de;De.Cancel=De.CanceledError;De.all=function(e){return Promise.all(e)};De.spread=qa;De.isAxiosError=Ha;De.mergeConfig=At;De.AxiosHeaders=rt;De.formToJSON=t=>Qo(T.isHTMLForm(t)?new FormData(t):t);De.getAdapter=lr.getAdapter;De.HttpStatusCode=nl;De.default=De;const{Axios:nu,AxiosError:lu,CanceledError:su,isCancel:ou,CancelToken:ru,VERSION:iu,all:au,Cancel:cu,isAxiosError:uu,spread:fu,toFormData:du,AxiosHeaders:pu,HttpStatusCode:_u,formToJSON:hu,getAdapter:mu,mergeConfig:bu}=De,Ja="/api/v1",ve=De.create({baseURL:Ja,headers:{"Content-Type":"application/json"}}),ll={getAll:t=>ve.get("/transactions",{params:t}),getById:t=>ve.get(`/transactions/${t}`),update:(t,e)=>ve.put(`/transactions/${t}`,e),delete:t=>ve.delete(`/transactions/${t}`),getUncategorized:()=>ve.get("/transactions/uncategorized/list")},Ka={getSummary:t=>ve.get("/dashboard/summary",{params:t})},Wa={getTree:()=>ve.get("/categories/tree"),getTier1:()=>ve.get("/categories/tier1"),getTier2:t=>ve.get(`/categories/tier2/${t}`),getTier3:(t,e)=>ve.get(`/categories/tier3/${t}/${e}`),createTier1:t=>ve.post(`/categories/tier1?name=${encodeURIComponent(t)}`),createTier2:(t,e)=>ve.post(`/categories/tier2/${t}?name=${encodeURIComponent(e)}`),createTier3:(t,e,n)=>ve.post(`/categories/tier3/${t}/${e}?name=${encodeURIComponent(n)}`),deleteTier1:t=>ve.delete(`/categories/tier1/${t}`),deleteTier2:(t,e)=>ve.delete(`/categories/tier2/${t}/${e}`),deleteTier3:(t,e,n)=>ve.delete(`/categories/tier3/${t}/${e}/${n}`)};function Zl(t,e,n){const l=t.slice();return l[11]=e[n],l}function Gl(t,e,n){const l=t.slice();return l[14]=e[n],l}function Xl(t,e,n){const l=t.slice();return l[14]=e[n],l}function Va(t){let e,n,l,s,o,r=lt(t[0].totals.income)+"",a,c,f,d,h,b,m,_,g,v=lt(t[0].totals.expenses)+"",y,w,C,L,R,F,O,I,S,E=lt(t[0].totals.net)+"",z,U,K,J,X,N,q,W,x,te=t[0].totals.transaction_count+"",le,Q,ne,pe=t[0].internal_transfers.count+"",P,M,V,ue,me,_e,$,he,be,Oe,et,Be,Me;function Pe(ae,Se){return ae[4].length>0?Ya:Xa}let Je=Pe(t),ke=Je(t);function tt(ae,Se){return ae[5].length>0?$a:Qa}let Ke=tt(t),Ae=Ke(t),Ne=t[3].length>0&&$l(t);return{c(){e=p("div"),n=p("div"),l=p("h3"),l.textContent="Total Income",s=k(),o=p("p"),a=D(r),c=D(" CZK"),f=k(),d=p("div"),d.textContent="Excluding internal transfers",h=k(),b=p("div"),m=p("h3"),m.textContent="Total Expenses",_=k(),g=p("p"),y=D(v),w=D(" CZK"),C=k(),L=p("div"),L.textContent="Excluding internal transfers",R=k(),F=p("div"),O=p("h3"),O.textContent="Net Balance",I=k(),S=p("p"),z=D(E),U=D(" CZK"),K=k(),J=p("div"),J.textContent="Income - Expenses",X=k(),N=p("div"),q=p("h3"),q.textContent="Transactions",W=k(),x=p("p"),le=D(te),Q=k(),ne=p("div"),P=D(pe),M=D(" internal transfers"),V=k(),ue=p("div"),me=p("div"),_e=p("h3"),_e.textContent="Top Expense Categories",$=k(),ke.c(),he=k(),be=p("div"),Oe=p("h3"),Oe.textContent="Top Income Categories",et=k(),Ae.c(),Be=k(),Ne&&Ne.c(),Me=ft(),u(l,"class","svelte-batob6"),u(o,"class","amount positive svelte-batob6"),u(d,"class","card-footer svelte-batob6"),u(n,"class","card svelte-batob6"),u(m,"class","svelte-batob6"),u(g,"class","amount negative svelte-batob6"),u(L,"class","card-footer svelte-batob6"),u(b,"class","card svelte-batob6"),u(O,"class","svelte-batob6"),u(S,"class","amount svelte-batob6"),ct(S,"positive",t[0].totals.net>0),ct(S,"negative",t[0].totals.net<0),u(J,"class","card-footer svelte-batob6"),u(F,"class","card svelte-batob6"),u(q,"class","svelte-batob6"),u(x,"class","amount svelte-batob6"),u(ne,"class","card-footer svelte-batob6"),u(N,"class","card svelte-batob6"),u(e,"class","summary-cards svelte-batob6"),u(_e,"class","svelte-batob6"),u(me,"class","chart-card svelte-batob6"),u(Oe,"class","svelte-batob6"),u(be,"class","chart-card svelte-batob6"),u(ue,"class","charts-row svelte-batob6")},m(ae,Se){A(ae,e,Se),i(e,n),i(n,l),i(n,s),i(n,o),i(o,a),i(o,c),i(n,f),i(n,d),i(e,h),i(e,b),i(b,m),i(b,_),i(b,g),i(g,y),i(g,w),i(b,C),i(b,L),i(e,R),i(e,F),i(F,O),i(F,I),i(F,S),i(S,z),i(S,U),i(F,K),i(F,J),i(e,X),i(e,N),i(N,q),i(N,W),i(N,x),i(x,le),i(N,Q),i(N,ne),i(ne,P),i(ne,M),A(ae,V,Se),A(ae,ue,Se),i(ue,me),i(me,_e),i(me,$),ke.m(me,null),i(ue,he),i(ue,be),i(be,Oe),i(be,et),Ae.m(be,null),A(ae,Be,Se),Ne&&Ne.m(ae,Se),A(ae,Me,Se)},p(ae,Se){Se&1&&r!==(r=lt(ae[0].totals.income)+"")&&Y(a,r),Se&1&&v!==(v=lt(ae[0].totals.expenses)+"")&&Y(y,v),Se&1&&E!==(E=lt(ae[0].totals.net)+"")&&Y(z,E),Se&1&&ct(S,"positive",ae[0].totals.net>0),Se&1&&ct(S,"negative",ae[0].totals.net<0),Se&1&&te!==(te=ae[0].totals.transaction_count+"")&&Y(le,te),Se&1&&pe!==(pe=ae[0].internal_transfers.count+"")&&Y(P,pe),Je===(Je=Pe(ae))&&ke?ke.p(ae,Se):(ke.d(1),ke=Je(ae),ke&&(ke.c(),ke.m(me,null))),Ke===(Ke=tt(ae))&&Ae?Ae.p(ae,Se):(Ae.d(1),Ae=Ke(ae),Ae&&(Ae.c(),Ae.m(be,null))),ae[3].length>0?Ne?Ne.p(ae,Se):(Ne=$l(ae),Ne.c(),Ne.m(Me.parentNode,Me)):Ne&&(Ne.d(1),Ne=null)},d(ae){ae&&(j(e),j(V),j(ue),j(Be),j(Me)),ke.d(),Ae.d(),Ne&&Ne.d(ae)}}}function Za(t){let e,n,l;return{c(){e=p("p"),n=D("Error: "),l=D(t[2]),u(e,"class","error svelte-batob6")},m(s,o){A(s,e,o),i(e,n),i(e,l)},p(s,o){o&4&&Y(l,s[2])},d(s){s&&j(e)}}}function Ga(t){let e;return{c(){e=p("p"),e.textContent="Loading..."},m(n,l){A(n,e,l)},p:ie,d(n){n&&j(e)}}}function Xa(t){let e;return{c(){e=p("p"),e.textContent="No expense data available",u(e,"class","no-data svelte-batob6")},m(n,l){A(n,e,l)},p:ie,d(n){n&&j(e)}}}function Ya(t){let e,n=ce(t[4]),l=[];for(let s=0;s<n.length;s+=1)l[s]=Yl(Xl(t,n,s));return{c(){e=p("div");for(let s=0;s<l.length;s+=1)l[s].c();u(e,"class","category-chart svelte-batob6")},m(s,o){A(s,e,o);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(s,o){if(o&17){n=ce(s[4]);let r;for(r=0;r<n.length;r+=1){const a=Xl(s,n,r);l[r]?l[r].p(a,o):(l[r]=Yl(a),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},d(s){s&&j(e),ze(l,s)}}}function Yl(t){let e,n,l=t[14].name+"",s,o,r,a,c,f,d=lt(t[14].expenses)+"",h,b,m;return{c(){e=p("div"),n=p("div"),s=D(l),o=k(),r=p("div"),a=p("div"),c=k(),f=p("div"),h=D(d),b=D(" CZK"),m=k(),u(n,"class","category-label svelte-batob6"),u(a,"class","category-bar expenses svelte-batob6"),pt(a,"width",Et(t[14].expenses,t[0].totals.expenses)+"%"),u(r,"class","category-bar-container svelte-batob6"),u(f,"class","category-amount svelte-batob6"),u(e,"class","category-item svelte-batob6")},m(_,g){A(_,e,g),i(e,n),i(n,s),i(e,o),i(e,r),i(r,a),i(e,c),i(e,f),i(f,h),i(f,b),i(e,m)},p(_,g){g&16&&l!==(l=_[14].name+"")&&Y(s,l),g&17&&pt(a,"width",Et(_[14].expenses,_[0].totals.expenses)+"%"),g&16&&d!==(d=lt(_[14].expenses)+"")&&Y(h,d)},d(_){_&&j(e)}}}function Qa(t){let e;return{c(){e=p("p"),e.textContent="No income data available",u(e,"class","no-data svelte-batob6")},m(n,l){A(n,e,l)},p:ie,d(n){n&&j(e)}}}function $a(t){let e,n=ce(t[5]),l=[];for(let s=0;s<n.length;s+=1)l[s]=Ql(Gl(t,n,s));return{c(){e=p("div");for(let s=0;s<l.length;s+=1)l[s].c();u(e,"class","category-chart svelte-batob6")},m(s,o){A(s,e,o);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(s,o){if(o&33){n=ce(s[5]);let r;for(r=0;r<n.length;r+=1){const a=Gl(s,n,r);l[r]?l[r].p(a,o):(l[r]=Ql(a),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},d(s){s&&j(e),ze(l,s)}}}function Ql(t){let e,n,l=t[14].name+"",s,o,r,a,c,f,d=lt(t[14].income)+"",h,b,m;return{c(){e=p("div"),n=p("div"),s=D(l),o=k(),r=p("div"),a=p("div"),c=k(),f=p("div"),h=D(d),b=D(" CZK"),m=k(),u(n,"class","category-label svelte-batob6"),u(a,"class","category-bar income svelte-batob6"),pt(a,"width",Et(t[14].income,t[0].totals.income)+"%"),u(r,"class","category-bar-container svelte-batob6"),u(f,"class","category-amount svelte-batob6"),u(e,"class","category-item svelte-batob6")},m(_,g){A(_,e,g),i(e,n),i(n,s),i(e,o),i(e,r),i(r,a),i(e,c),i(e,f),i(f,h),i(f,b),i(e,m)},p(_,g){g&32&&l!==(l=_[14].name+"")&&Y(s,l),g&33&&pt(a,"width",Et(_[14].income,_[0].totals.income)+"%"),g&32&&d!==(d=lt(_[14].income)+"")&&Y(h,d)},d(_){_&&j(e)}}}function $l(t){let e,n,l,s,o=ce(t[3]),r=[];for(let a=0;a<o.length;a+=1)r[a]=xl(Zl(t,o,a));return{c(){e=p("div"),n=p("h3"),n.textContent="Monthly Trends",l=k(),s=p("div");for(let a=0;a<r.length;a+=1)r[a].c();u(n,"class","svelte-batob6"),u(s,"class","monthly-trends svelte-batob6"),u(e,"class","chart-card full-width svelte-batob6")},m(a,c){A(a,e,c),i(e,n),i(e,l),i(e,s);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(s,null)},p(a,c){if(c&8){o=ce(a[3]);let f;for(f=0;f<o.length;f+=1){const d=Zl(a,o,f);r[f]?r[f].p(d,c):(r[f]=xl(d),r[f].c(),r[f].m(s,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=o.length}},d(a){a&&j(e),ze(r,a)}}}function xl(t){let e,n,l=t[11].month+"",s,o,r,a,c,f,d,h,b,m,_=lt(t[11].income)+"",g,v,y,w,C,L,R,F,O,I=lt(t[11].expenses)+"",S,E;return{c(){e=p("div"),n=p("div"),s=D(l),o=k(),r=p("div"),a=p("div"),c=p("span"),c.textContent="Income:",f=k(),d=p("div"),h=p("div"),b=k(),m=p("span"),g=D(_),v=k(),y=p("div"),w=p("span"),w.textContent="Expenses:",C=k(),L=p("div"),R=p("div"),F=k(),O=p("span"),S=D(I),E=k(),u(n,"class","month-label svelte-batob6"),u(c,"class","trend-label svelte-batob6"),u(h,"class","trend-bar income svelte-batob6"),pt(h,"width",Math.min(100,Et(t[11].income,Math.max(...t[3].map(es))))+"%"),u(d,"class","trend-bar-container svelte-batob6"),u(m,"class","trend-amount svelte-batob6"),u(a,"class","trend-row svelte-batob6"),u(w,"class","trend-label svelte-batob6"),u(R,"class","trend-bar expenses svelte-batob6"),pt(R,"width",Math.min(100,Et(t[11].expenses,Math.max(...t[3].map(ts))))+"%"),u(L,"class","trend-bar-container svelte-batob6"),u(O,"class","trend-amount svelte-batob6"),u(y,"class","trend-row svelte-batob6"),u(r,"class","month-bars svelte-batob6"),u(e,"class","month-item svelte-batob6")},m(z,U){A(z,e,U),i(e,n),i(n,s),i(e,o),i(e,r),i(r,a),i(a,c),i(a,f),i(a,d),i(d,h),i(a,b),i(a,m),i(m,g),i(r,v),i(r,y),i(y,w),i(y,C),i(y,L),i(L,R),i(y,F),i(y,O),i(O,S),i(e,E)},p(z,U){U&8&&l!==(l=z[11].month+"")&&Y(s,l),U&8&&pt(h,"width",Math.min(100,Et(z[11].income,Math.max(...z[3].map(es))))+"%"),U&8&&_!==(_=lt(z[11].income)+"")&&Y(g,_),U&8&&pt(R,"width",Math.min(100,Et(z[11].expenses,Math.max(...z[3].map(ts))))+"%"),U&8&&I!==(I=lt(z[11].expenses)+"")&&Y(S,I)},d(z){z&&j(e)}}}function xa(t){let e,n,l;function s(a,c){if(a[1])return Ga;if(a[2])return Za;if(a[0])return Va}let o=s(t),r=o&&o(t);return{c(){e=p("div"),n=p("h1"),n.textContent="Financial Dashboard",l=k(),r&&r.c(),u(n,"class","svelte-batob6"),u(e,"class","dashboard svelte-batob6")},m(a,c){A(a,e,c),i(e,n),i(e,l),r&&r.m(e,null)},p(a,[c]){o===(o=s(a))&&r?r.p(a,c):(r&&r.d(1),r=o&&o(a),r&&(r.c(),r.m(e,null)))},i:ie,o:ie,d(a){a&&j(e),r&&r.d()}}}function lt(t){return t.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g," ")}function Et(t,e){return e>0?(t/e*100).toFixed(1):0}const es=t=>t.income,ts=t=>t.expenses;function ec(t,e,n){let l=null,s=[],o=!0,r=null,a=[],c=[],f=[],d=[];zt(async()=>{try{const _=await Ka.getSummary();n(0,l=_.data),s=(await ll.getAll({limit:200})).data.data,h(),b(),m(),n(1,o=!1)}catch(_){n(2,r=_.message),n(1,o=!1)}});function h(){const _={};s.forEach(g=>{if(g.is_internal_transfer==="TRUE")return;const v=parseFloat(g.amount.replace(",",".")),y=g.category_tier1||"Uncategorized";_[y]||(_[y]={income:0,expenses:0}),v>0?_[y].income+=v:_[y].expenses+=Math.abs(v)}),a=Object.entries(_).map(([g,v])=>({name:g,income:v.income,expenses:v.expenses,net:v.income-v.expenses})).sort((g,v)=>v.expenses-g.expenses)}function b(){const _={};s.forEach(g=>{if(g.is_internal_transfer==="TRUE")return;const v=new Date(g.date),y=`${v.getFullYear()}-${String(v.getMonth()+1).padStart(2,"0")}`,w=parseFloat(g.amount.replace(",","."));_[y]||(_[y]={income:0,expenses:0}),w>0?_[y].income+=w:_[y].expenses+=Math.abs(w)}),n(3,c=Object.entries(_).map(([g,v])=>({month:g,income:v.income,expenses:v.expenses,net:v.income-v.expenses})).sort((g,v)=>g.month.localeCompare(v.month)))}function m(){n(4,f=a.filter(_=>_.expenses>0).sort((_,g)=>g.expenses-_.expenses).slice(0,5)),n(5,d=a.filter(_=>_.income>0).sort((_,g)=>g.income-_.income).slice(0,5))}return[l,o,r,c,f,d]}class tc extends ht{constructor(e){super(),_t(this,e,ec,xa,ut,{})}}function ns(t,e,n){const l=t.slice();return l[71]=e[n],l}function ls(t,e,n){const l=t.slice();return l[74]=e[n],l}function ss(t,e,n){const l=t.slice();return l[74]=e[n],l}function os(t,e,n){const l=t.slice();return l[79]=e[n],l}function rs(t,e,n){const l=t.slice();return l[82]=e[n],l}function is(t,e,n){const l=t.slice();return l[85]=e[n],l}function as(t,e,n){const l=t.slice();return l[85]=e[n],l}function cs(t,e,n){const l=t.slice();return l[90]=e[n],l}function us(t,e,n){const l=t.slice();return l[74]=e[n],l[93]=e,l[94]=n,l}function fs(t){let e,n,l,s,o,r,a,c,f,d=ce(t[25]),h=[];for(let b=0;b<d.length;b+=1)h[b]=ds(us(t,d,b));return{c(){e=p("div"),n=p("div"),l=p("h3"),l.textContent="Show/Hide Columns",s=k(),o=p("button"),o.textContent="Reset to Default",r=k(),a=p("div");for(let b=0;b<h.length;b+=1)h[b].c();u(l,"class","svelte-roj1zr"),u(o,"class","btn-reset svelte-roj1zr"),u(n,"class","column-selector-header svelte-roj1zr"),u(a,"class","column-list svelte-roj1zr"),u(e,"class","column-selector svelte-roj1zr")},m(b,m){A(b,e,m),i(e,n),i(n,l),i(n,s),i(n,o),i(e,r),i(e,a);for(let _=0;_<h.length;_+=1)h[_]&&h[_].m(a,null);c||(f=B(o,"click",t[27]),c=!0)},p(b,m){if(m[0]&104857600){d=ce(b[25]);let _;for(_=0;_<d.length;_+=1){const g=us(b,d,_);h[_]?h[_].p(g,m):(h[_]=ds(g),h[_].c(),h[_].m(a,null))}for(;_<h.length;_+=1)h[_].d(1);h.length=d.length}},d(b){b&&j(e),ze(h,b),c=!1,f()}}}function ds(t){let e,n,l,s,o,r,a;function c(){t[41].call(n,t[74])}return{c(){e=p("label"),n=p("input"),l=k(),s=p("span"),s.textContent=`${t[74].label}`,o=k(),u(n,"type","checkbox"),u(n,"class","svelte-roj1zr"),u(s,"class","svelte-roj1zr"),u(e,"class","column-item svelte-roj1zr")},m(f,d){A(f,e,d),i(e,n),n.checked=t[22][t[74].key],i(e,l),i(e,s),i(e,o),r||(a=[B(n,"change",c),B(n,"change",t[42])],r=!0)},p(f,d){t=f,d[0]&37748736&&(n.checked=t[22][t[74].key])},d(f){f&&j(e),r=!1,Re(a)}}}function ps(t){let e,n,l;return{c(){e=p("button"),e.textContent="âœ•",u(e,"class","btn-clear svelte-roj1zr")},m(s,o){A(s,e,o),n||(l=B(e,"click",t[44]),n=!0)},p:ie,d(s){s&&j(e),n=!1,l()}}}function _s(t){let e,n=t[90]+"",l,s;return{c(){e=p("option"),l=D(n),e.__value=s=t[90],H(e,e.__value)},m(o,r){A(o,e,r),i(e,l)},p(o,r){r[0]&512&&n!==(n=o[90]+"")&&Y(l,n),r[0]&512&&s!==(s=o[90])&&(e.__value=s,H(e,e.__value))},d(o){o&&j(e)}}}function hs(t){let e,n=t[85].tier1+"",l,s;return{c(){e=p("option"),l=D(n),e.__value=s=t[85].tier1,H(e,e.__value)},m(o,r){A(o,e,r),i(e,l)},p(o,r){r[0]&256&&n!==(n=o[85].tier1+"")&&Y(l,n),r[0]&256&&s!==(s=o[85].tier1)&&(e.__value=s,H(e,e.__value))},d(o){o&&j(e)}}}function ms(t){let e,n,l,s,o,r,a,c=ce(t[24]),f=[];for(let d=0;d<c.length;d+=1)f[d]=bs(is(t,c,d));return{c(){e=p("div"),n=p("label"),n.textContent="Tier2:",l=k(),s=p("select"),o=p("option"),o.textContent="All";for(let d=0;d<f.length;d+=1)f[d].c();u(n,"class","svelte-roj1zr"),o.__value="",H(o,o.__value),u(s,"class","filter-select svelte-roj1zr"),t[1]===void 0&&Ie(()=>t[49].call(s)),u(e,"class","filter-group svelte-roj1zr")},m(d,h){A(d,e,h),i(e,n),i(e,l),i(e,s),i(s,o);for(let b=0;b<f.length;b+=1)f[b]&&f[b].m(s,null);Te(s,t[1],!0),r||(a=[B(s,"change",t[49]),B(s,"change",t[31])],r=!0)},p(d,h){if(h[0]&16777216){c=ce(d[24]);let b;for(b=0;b<c.length;b+=1){const m=is(d,c,b);f[b]?f[b].p(m,h):(f[b]=bs(m),f[b].c(),f[b].m(s,null))}for(;b<f.length;b+=1)f[b].d(1);f.length=c.length}h[0]&16777218&&Te(s,d[1])},d(d){d&&j(e),ze(f,d),r=!1,Re(a)}}}function bs(t){let e,n=t[85].tier2+"",l,s;return{c(){e=p("option"),l=D(n),e.__value=s=t[85].tier2,H(e,e.__value)},m(o,r){A(o,e,r),i(e,l)},p(o,r){r[0]&16777216&&n!==(n=o[85].tier2+"")&&Y(l,n),r[0]&16777216&&s!==(s=o[85].tier2)&&(e.__value=s,H(e,e.__value))},d(o){o&&j(e)}}}function gs(t){let e,n,l,s,o,r,a,c=ce(t[23]),f=[];for(let d=0;d<c.length;d+=1)f[d]=vs(rs(t,c,d));return{c(){e=p("div"),n=p("label"),n.textContent="Tier3:",l=k(),s=p("select"),o=p("option"),o.textContent="All";for(let d=0;d<f.length;d+=1)f[d].c();u(n,"class","svelte-roj1zr"),o.__value="",H(o,o.__value),u(s,"class","filter-select svelte-roj1zr"),t[14]===void 0&&Ie(()=>t[50].call(s)),u(e,"class","filter-group svelte-roj1zr")},m(d,h){A(d,e,h),i(e,n),i(e,l),i(e,s),i(s,o);for(let b=0;b<f.length;b+=1)f[b]&&f[b].m(s,null);Te(s,t[14],!0),r||(a=[B(s,"change",t[50]),B(s,"change",t[31])],r=!0)},p(d,h){if(h[0]&8388608){c=ce(d[23]);let b;for(b=0;b<c.length;b+=1){const m=rs(d,c,b);f[b]?f[b].p(m,h):(f[b]=vs(m),f[b].c(),f[b].m(s,null))}for(;b<f.length;b+=1)f[b].d(1);f.length=c.length}h[0]&8404992&&Te(s,d[14])},d(d){d&&j(e),ze(f,d),r=!1,Re(a)}}}function vs(t){let e,n=t[82]+"",l,s;return{c(){e=p("option"),l=D(n),e.__value=s=t[82],H(e,e.__value)},m(o,r){A(o,e,r),i(e,l)},p(o,r){r[0]&8388608&&n!==(n=o[82]+"")&&Y(l,n),r[0]&8388608&&s!==(s=o[82])&&(e.__value=s,H(e,e.__value))},d(o){o&&j(e)}}}function ys(t){let e,n,l,s,o,r,a,c,f,d,h,b,m,_,g,v,y,w,C,L,R,F=ce(t[20]),O=[];for(let I=0;I<F.length;I+=1)O[I]=ks(os(t,F,I));return{c(){e=p("div"),n=p("h4"),n.textContent="Advanced Filters",l=k(),s=p("div"),o=p("div"),r=p("label"),r.textContent="Min Amount:",a=k(),c=p("input"),f=k(),d=p("div"),h=p("label"),h.textContent="Max Amount:",b=k(),m=p("input"),_=k(),g=p("div"),v=p("label"),v.textContent="Institution:",y=k(),w=p("select"),C=p("option"),C.textContent="All Institutions";for(let I=0;I<O.length;I+=1)O[I].c();u(n,"class","svelte-roj1zr"),u(r,"class","svelte-roj1zr"),u(c,"type","number"),u(c,"step","0.01"),u(c,"class","filter-input svelte-roj1zr"),u(c,"placeholder","e.g., 100"),u(o,"class","filter-group svelte-roj1zr"),u(h,"class","svelte-roj1zr"),u(m,"type","number"),u(m,"step","0.01"),u(m,"class","filter-input svelte-roj1zr"),u(m,"placeholder","e.g., 5000"),u(d,"class","filter-group svelte-roj1zr"),u(v,"class","svelte-roj1zr"),C.__value="",H(C,C.__value),u(w,"class","filter-select svelte-roj1zr"),t[18]===void 0&&Ie(()=>t[55].call(w)),u(g,"class","filter-group svelte-roj1zr"),u(s,"class","filter-row svelte-roj1zr"),u(e,"class","advanced-filters svelte-roj1zr")},m(I,S){A(I,e,S),i(e,n),i(e,l),i(e,s),i(s,o),i(o,r),i(o,a),i(o,c),H(c,t[16]),i(s,f),i(s,d),i(d,h),i(d,b),i(d,m),H(m,t[17]),i(s,_),i(s,g),i(g,v),i(g,y),i(g,w),i(w,C);for(let E=0;E<O.length;E+=1)O[E]&&O[E].m(w,null);Te(w,t[18],!0),L||(R=[B(c,"input",t[53]),B(c,"input",t[31]),B(m,"input",t[54]),B(m,"input",t[31]),B(w,"change",t[55]),B(w,"change",t[31])],L=!0)},p(I,S){if(S[0]&65536&&st(c.value)!==I[16]&&H(c,I[16]),S[0]&131072&&st(m.value)!==I[17]&&H(m,I[17]),S[0]&1048576){F=ce(I[20]);let E;for(E=0;E<F.length;E+=1){const z=os(I,F,E);O[E]?O[E].p(z,S):(O[E]=ks(z),O[E].c(),O[E].m(w,null))}for(;E<O.length;E+=1)O[E].d(1);O.length=F.length}S[0]&1310720&&Te(w,I[18])},d(I){I&&j(e),ze(O,I),L=!1,Re(R)}}}function ks(t){let e,n=t[79]+"",l,s;return{c(){e=p("option"),l=D(n),e.__value=s=t[79],H(e,e.__value)},m(o,r){A(o,e,r),i(e,l)},p(o,r){r[0]&1048576&&n!==(n=o[79]+"")&&Y(l,n),r[0]&1048576&&s!==(s=o[79])&&(e.__value=s,H(e,e.__value))},d(o){o&&j(e)}}}function nc(t){let e,n;function l(a,c){return a[4].length===0?rc:oc}let s=l(t),o=s(t),r=t[7]&&Rs(t);return{c(){o.c(),e=k(),r&&r.c(),n=ft()},m(a,c){o.m(a,c),A(a,e,c),r&&r.m(a,c),A(a,n,c)},p(a,c){s===(s=l(a))&&o?o.p(a,c):(o.d(1),o=s(a),o&&(o.c(),o.m(e.parentNode,e))),a[7]?r?r.p(a,c):(r=Rs(a),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(a){a&&(j(e),j(n)),o.d(a),r&&r.d(a)}}}function lc(t){let e,n,l;return{c(){e=p("p"),n=D("Error: "),l=D(t[6]),u(e,"class","error svelte-roj1zr")},m(s,o){A(s,e,o),i(e,n),i(e,l)},p(s,o){o[0]&64&&Y(l,s[6])},d(s){s&&j(e)}}}function sc(t){let e;return{c(){e=p("p"),e.textContent="Loading transactions..."},m(n,l){A(n,e,l)},p:ie,d(n){n&&j(e)}}}function oc(t){let e,n,l,s,o,r,a=ce(t[25]),c=[];for(let h=0;h<a.length;h+=1)c[h]=Cs(ss(t,a,h));let f=ce(t[4]),d=[];for(let h=0;h<f.length;h+=1)d[h]=Ts(ns(t,f,h));return{c(){e=p("div"),n=p("table"),l=p("thead"),s=p("tr");for(let h=0;h<c.length;h+=1)c[h].c();o=k(),r=p("tbody");for(let h=0;h<d.length;h+=1)d[h].c();u(s,"class","svelte-roj1zr"),u(n,"class","svelte-roj1zr"),u(e,"class","table-container svelte-roj1zr")},m(h,b){A(h,e,b),i(e,n),i(n,l),i(l,s);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(s,null);i(n,o),i(n,r);for(let m=0;m<d.length;m+=1)d[m]&&d[m].m(r,null)},p(h,b){if(b[0]&1111490560|b[1]&64){a=ce(h[25]);let m;for(m=0;m<a.length;m+=1){const _=ss(h,a,m);c[m]?c[m].p(_,b):(c[m]=Cs(_),c[m].c(),c[m].m(s,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=a.length}if(b[0]&37748752){f=ce(h[4]);let m;for(m=0;m<f.length;m+=1){const _=ns(h,f,m);d[m]?d[m].p(_,b):(d[m]=Ts(_),d[m].c(),d[m].m(r,null))}for(;m<d.length;m+=1)d[m].d(1);d.length=f.length}},d(h){h&&j(e),ze(c,h),ze(d,h)}}}function rc(t){let e,n,l,s,o,r;return{c(){e=p("div"),n=p("p"),n.textContent="No transactions found matching your filters.",l=k(),s=p("button"),s.textContent="Clear Filters",u(n,"class","svelte-roj1zr"),u(s,"class","btn svelte-roj1zr"),u(e,"class","no-results svelte-roj1zr")},m(a,c){A(a,e,c),i(e,n),i(e,l),i(e,s),o||(r=B(s,"click",t[32]),o=!0)},p:ie,d(a){a&&j(e),o=!1,r()}}}function ws(t){let e,n=t[74].label+"",l,s,o,r,a,c=t[74].sortable&&ic(t);function f(){return t[56](t[74])}return{c(){e=p("th"),l=D(n),s=k(),c&&c.c(),o=k(),u(e,"class","svelte-roj1zr"),ct(e,"sortable",t[74].sortable)},m(d,h){A(d,e,h),i(e,l),i(e,s),c&&c.m(e,null),i(e,o),r||(a=B(e,"click",f),r=!0)},p(d,h){t=d,t[74].sortable&&c.p(t,h)},d(d){d&&j(e),c&&c.d(),r=!1,a()}}}function ic(t){let e=t[37](t[74].key)+"",n;return{c(){n=D(e)},m(l,s){A(l,n,s)},p:ie,d(l){l&&j(n)}}}function Cs(t){let e,n=t[22][t[74].key]&&ws(t);return{c(){n&&n.c(),e=ft()},m(l,s){n&&n.m(l,s),A(l,e,s)},p(l,s){l[22][l[74].key]?n?n.p(l,s):(n=ws(l),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(l){l&&j(e),n&&n.d(l)}}}function Es(t){let e,n=On(t[71],t[74].key)+"",l,s;return{c(){e=p("td"),l=D(n),u(e,"class",s=ml(js(t[71],t[74].key))+" svelte-roj1zr")},m(o,r){A(o,e,r),i(e,l)},p(o,r){r[0]&16&&n!==(n=On(o[71],o[74].key)+"")&&Y(l,n),r[0]&16&&s!==(s=ml(js(o[71],o[74].key))+" svelte-roj1zr")&&u(e,"class",s)},d(o){o&&j(e)}}}function Ss(t){let e,n=t[22][t[74].key]&&Es(t);return{c(){n&&n.c(),e=ft()},m(l,s){n&&n.m(l,s),A(l,e,s)},p(l,s){l[22][l[74].key]?n?n.p(l,s):(n=Es(l),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(l){l&&j(e),n&&n.d(l)}}}function Ts(t){let e,n,l=ce(t[25]),s=[];for(let o=0;o<l.length;o+=1)s[o]=Ss(ls(t,l,o));return{c(){e=p("tr");for(let o=0;o<s.length;o+=1)s[o].c();n=k(),u(e,"class","svelte-roj1zr")},m(o,r){A(o,e,r);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);i(e,n)},p(o,r){if(r[0]&37748752){l=ce(o[25]);let a;for(a=0;a<l.length;a+=1){const c=ls(o,l,a);s[a]?s[a].p(c,r):(s[a]=Ss(c),s[a].c(),s[a].m(e,n))}for(;a<s.length;a+=1)s[a].d(1);s.length=l.length}},d(o){o&&j(e),ze(s,o)}}}function Rs(t){let e,n,l,s=t[4].length+"",o,r,a=t[7].total_items+"",c,f,d,h,b,m,_,g,v,y,w,C,L,R,F,O,I=t[7].total_pages+"",S,E,z,U,K,J,X,N,q,W,x,te,le;return{c(){e=p("div"),n=p("div"),l=D("Showing "),o=D(s),r=D(" of "),c=D(a),f=D(" transactions"),d=k(),h=p("div"),b=p("button"),m=D("â† Previous"),g=k(),v=p("div"),y=p("span"),y.textContent="Page",w=k(),C=p("input"),R=k(),F=p("span"),O=D("of "),S=D(I),E=k(),z=p("button"),U=D("Next â†’"),J=k(),X=p("select"),N=p("option"),N.textContent="25 per page",q=p("option"),q.textContent="50 per page",W=p("option"),W.textContent="100 per page",x=p("option"),x.textContent="200 per page",u(n,"class","pagination-info svelte-roj1zr"),u(b,"class","btn btn-page svelte-roj1zr"),b.disabled=_=t[2]===1,u(C,"type","number"),u(C,"min","1"),u(C,"max",L=t[7].total_pages),u(C,"class","page-input svelte-roj1zr"),u(v,"class","page-selector svelte-roj1zr"),u(z,"class","btn btn-page svelte-roj1zr"),z.disabled=K=t[2]===t[7].total_pages,N.__value=25,H(N,N.__value),q.__value=50,H(q,q.__value),W.__value=100,H(W,W.__value),x.__value=200,H(x,x.__value),u(X,"class","items-per-page svelte-roj1zr"),t[3]===void 0&&Ie(()=>t[59].call(X)),u(h,"class","pagination-controls svelte-roj1zr"),u(e,"class","pagination-container svelte-roj1zr")},m(Q,ne){A(Q,e,ne),i(e,n),i(n,l),i(n,o),i(n,r),i(n,c),i(n,f),i(e,d),i(e,h),i(h,b),i(b,m),i(h,g),i(h,v),i(v,y),i(v,w),i(v,C),H(C,t[2]),i(v,R),i(v,F),i(F,O),i(F,S),i(h,E),i(h,z),i(z,U),i(h,J),i(h,X),i(X,N),i(X,q),i(X,W),i(X,x),Te(X,t[3],!0),te||(le=[B(b,"click",t[34]),B(C,"input",t[57]),B(C,"change",t[58]),B(z,"click",t[33]),B(X,"change",t[59]),B(X,"change",t[60])],te=!0)},p(Q,ne){ne[0]&16&&s!==(s=Q[4].length+"")&&Y(o,s),ne[0]&128&&a!==(a=Q[7].total_items+"")&&Y(c,a),ne[0]&4&&_!==(_=Q[2]===1)&&(b.disabled=_),ne[0]&128&&L!==(L=Q[7].total_pages)&&u(C,"max",L),ne[0]&4&&st(C.value)!==Q[2]&&H(C,Q[2]),ne[0]&128&&I!==(I=Q[7].total_pages+"")&&Y(S,I),ne[0]&132&&K!==(K=Q[2]===Q[7].total_pages)&&(z.disabled=K),ne[0]&8&&Te(X,Q[3])},d(Q){Q&&j(e),te=!1,Re(le)}}}function ac(t){let e,n,l,s,o,r,a,c,f,d,h,b,m,_,g,v,y=t[5]?"ðŸ”„ Refreshing...":"ðŸ”„ Refresh",w,C,L,R,F,O,I,S,E,z,U,K,J,X,N,q,W,x,te,le,Q,ne,pe,P,M,V,ue,me,_e,$,he,be,Oe,et,Be,Me,Pe,Je,ke,tt,Ke,Ae,Ne,ae,Se=t[19]?"â–² Hide Advanced":"â–¼ Show Advanced",bt,Tt,it,dt,gt,Le=t[21]&&fs(t),Ee=t[10]&&ps(t),Xe=ce(t[9]),Ue=[];for(let Z=0;Z<Xe.length;Z+=1)Ue[Z]=_s(cs(t,Xe,Z));let Ye=ce(t[8]),G=[];for(let Z=0;Z<Ye.length;Z+=1)G[Z]=hs(as(t,Ye,Z));let re=t[0]&&t[24].length>0&&ms(t),fe=t[1]&&t[23].length>0&&gs(t),ge=t[19]&&ys(t);function nt(Z,we){return Z[5]?sc:Z[6]?lc:nc}let We=nt(t),Fe=We(t);return{c(){e=p("div"),n=p("div"),l=p("h1"),l.textContent="Transactions",s=k(),o=p("div"),r=p("button"),a=D("ðŸ“¥ Export CSV"),f=k(),d=p("button"),h=D("ðŸ“Š Export Excel"),m=k(),_=p("button"),_.textContent="âš™ï¸ Columns",g=k(),v=p("button"),w=D(y),C=k(),Le&&Le.c(),L=k(),R=p("div"),F=p("input"),O=k(),Ee&&Ee.c(),I=k(),S=p("div"),E=p("div"),z=p("div"),U=p("label"),U.textContent="From Date:",K=k(),J=p("input"),X=k(),N=p("div"),q=p("label"),q.textContent="To Date:",W=k(),x=p("input"),te=k(),le=p("div"),Q=p("label"),Q.textContent="Owner:",ne=k(),pe=p("select"),P=p("option"),P.textContent="All Owners";for(let Z=0;Z<Ue.length;Z+=1)Ue[Z].c();M=k(),V=p("div"),ue=p("label"),ue.textContent="Category (Tier1):",me=k(),_e=p("select"),$=p("option"),$.textContent="All Categories";for(let Z=0;Z<G.length;Z+=1)G[Z].c();he=k(),re&&re.c(),be=k(),fe&&fe.c(),Oe=k(),et=p("div"),Be=p("label"),Be.textContent="Transfer Type:",Me=k(),Pe=p("select"),Je=p("option"),Je.textContent="All",ke=p("option"),ke.textContent="Internal Only",tt=p("option"),tt.textContent="Exclude Internal",Ke=k(),Ae=p("button"),Ae.textContent="Clear Filters",Ne=k(),ae=p("button"),bt=D(Se),Tt=k(),ge&&ge.c(),it=k(),Fe.c(),u(l,"class","svelte-roj1zr"),u(r,"class","btn btn-export svelte-roj1zr"),r.disabled=c=t[4].length===0,u(d,"class","btn btn-export svelte-roj1zr"),d.disabled=b=t[4].length===0,u(_,"class","btn btn-columns svelte-roj1zr"),u(v,"class","btn btn-refresh svelte-roj1zr"),v.disabled=t[5],u(o,"class","header-actions svelte-roj1zr"),u(n,"class","header svelte-roj1zr"),u(F,"type","text"),u(F,"placeholder","ðŸ” Search descriptions, counterparties..."),u(F,"class","search-input svelte-roj1zr"),u(R,"class","search-bar svelte-roj1zr"),u(U,"class","svelte-roj1zr"),u(J,"type","date"),u(J,"class","filter-input svelte-roj1zr"),u(z,"class","filter-group svelte-roj1zr"),u(q,"class","svelte-roj1zr"),u(x,"type","date"),u(x,"class","filter-input svelte-roj1zr"),u(N,"class","filter-group svelte-roj1zr"),u(Q,"class","svelte-roj1zr"),P.__value="",H(P,P.__value),u(pe,"class","filter-select svelte-roj1zr"),t[13]===void 0&&Ie(()=>t[47].call(pe)),u(le,"class","filter-group svelte-roj1zr"),u(ue,"class","svelte-roj1zr"),$.__value="",H($,$.__value),u(_e,"class","filter-select svelte-roj1zr"),t[0]===void 0&&Ie(()=>t[48].call(_e)),u(V,"class","filter-group svelte-roj1zr"),u(Be,"class","svelte-roj1zr"),Je.__value="all",H(Je,Je.__value),ke.__value="internal",H(ke,ke.__value),tt.__value="exclude",H(tt,tt.__value),u(Pe,"class","filter-select svelte-roj1zr"),t[15]===void 0&&Ie(()=>t[51].call(Pe)),u(et,"class","filter-group svelte-roj1zr"),u(Ae,"class","btn btn-clear-filters svelte-roj1zr"),u(ae,"class","btn btn-advanced svelte-roj1zr"),u(E,"class","filter-row svelte-roj1zr"),u(S,"class","filters svelte-roj1zr"),u(e,"class","transactions svelte-roj1zr")},m(Z,we){A(Z,e,we),i(e,n),i(n,l),i(n,s),i(n,o),i(o,r),i(r,a),i(o,f),i(o,d),i(d,h),i(o,m),i(o,_),i(o,g),i(o,v),i(v,w),i(e,C),Le&&Le.m(e,null),i(e,L),i(e,R),i(R,F),H(F,t[10]),i(R,O),Ee&&Ee.m(R,null),i(e,I),i(e,S),i(S,E),i(E,z),i(z,U),i(z,K),i(z,J),H(J,t[11]),i(E,X),i(E,N),i(N,q),i(N,W),i(N,x),H(x,t[12]),i(E,te),i(E,le),i(le,Q),i(le,ne),i(le,pe),i(pe,P);for(let se=0;se<Ue.length;se+=1)Ue[se]&&Ue[se].m(pe,null);Te(pe,t[13],!0),i(E,M),i(E,V),i(V,ue),i(V,me),i(V,_e),i(_e,$);for(let se=0;se<G.length;se+=1)G[se]&&G[se].m(_e,null);Te(_e,t[0],!0),i(E,he),re&&re.m(E,null),i(E,be),fe&&fe.m(E,null),i(E,Oe),i(E,et),i(et,Be),i(et,Me),i(et,Pe),i(Pe,Je),i(Pe,ke),i(Pe,tt),Te(Pe,t[15],!0),i(E,Ke),i(E,Ae),i(E,Ne),i(E,ae),i(ae,bt),i(S,Tt),ge&&ge.m(S,null),i(e,it),Fe.m(e,null),dt||(gt=[B(r,"click",t[38]),B(d,"click",t[39]),B(_,"click",t[40]),B(v,"click",t[28]),B(F,"input",t[43]),B(F,"input",t[29]),B(J,"input",t[45]),B(J,"change",t[31]),B(x,"input",t[46]),B(x,"change",t[31]),B(pe,"change",t[47]),B(pe,"change",t[31]),B(_e,"change",t[48]),B(_e,"change",t[31]),B(Pe,"change",t[51]),B(Pe,"change",t[31]),B(Ae,"click",t[32]),B(ae,"click",t[52])],dt=!0)},p(Z,we){if(we[0]&16&&c!==(c=Z[4].length===0)&&(r.disabled=c),we[0]&16&&b!==(b=Z[4].length===0)&&(d.disabled=b),we[0]&32&&y!==(y=Z[5]?"ðŸ”„ Refreshing...":"ðŸ”„ Refresh")&&Y(w,y),we[0]&32&&(v.disabled=Z[5]),Z[21]?Le?Le.p(Z,we):(Le=fs(Z),Le.c(),Le.m(e,L)):Le&&(Le.d(1),Le=null),we[0]&1024&&F.value!==Z[10]&&H(F,Z[10]),Z[10]?Ee?Ee.p(Z,we):(Ee=ps(Z),Ee.c(),Ee.m(R,null)):Ee&&(Ee.d(1),Ee=null),we[0]&2048&&H(J,Z[11]),we[0]&4096&&H(x,Z[12]),we[0]&512){Xe=ce(Z[9]);let se;for(se=0;se<Xe.length;se+=1){const Ve=cs(Z,Xe,se);Ue[se]?Ue[se].p(Ve,we):(Ue[se]=_s(Ve),Ue[se].c(),Ue[se].m(pe,null))}for(;se<Ue.length;se+=1)Ue[se].d(1);Ue.length=Xe.length}if(we[0]&8704&&Te(pe,Z[13]),we[0]&256){Ye=ce(Z[8]);let se;for(se=0;se<Ye.length;se+=1){const Ve=as(Z,Ye,se);G[se]?G[se].p(Ve,we):(G[se]=hs(Ve),G[se].c(),G[se].m(_e,null))}for(;se<G.length;se+=1)G[se].d(1);G.length=Ye.length}we[0]&257&&Te(_e,Z[0]),Z[0]&&Z[24].length>0?re?re.p(Z,we):(re=ms(Z),re.c(),re.m(E,be)):re&&(re.d(1),re=null),Z[1]&&Z[23].length>0?fe?fe.p(Z,we):(fe=gs(Z),fe.c(),fe.m(E,Oe)):fe&&(fe.d(1),fe=null),we[0]&32768&&Te(Pe,Z[15]),we[0]&524288&&Se!==(Se=Z[19]?"â–² Hide Advanced":"â–¼ Show Advanced")&&Y(bt,Se),Z[19]?ge?ge.p(Z,we):(ge=ys(Z),ge.c(),ge.m(S,null)):ge&&(ge.d(1),ge=null),We===(We=nt(Z))&&Fe?Fe.p(Z,we):(Fe.d(1),Fe=We(Z),Fe&&(Fe.c(),Fe.m(e,null)))},i:ie,o:ie,d(Z){Z&&j(e),Le&&Le.d(),Ee&&Ee.d(),ze(Ue,Z),ze(G,Z),re&&re.d(),fe&&fe.d(),ge&&ge.d(),Fe.d(),dt=!1,Re(gt)}}}function cc(t){return new Date(t).toLocaleDateString()}function uc(t,e){return`${parseFloat(t).toFixed(2)} ${e}`}function On(t,e){const n=t[e];switch(e){case"date":return cc(n);case"amount":return uc(n,t.currency);case"is_internal_transfer":return n==="TRUE"?"Yes":"No";case"category_tier1":case"category_tier2":case"category_tier3":return n||"Uncategorized";default:return n||"-"}}function js(t,e){if(e==="amount"){if(parseFloat(t.amount)<0)return"negative";if(parseFloat(t.amount)>0)return"positive"}return""}function fc(t,e,n){let l,s,o,r=[],a=!0,c=null,f={},d=[],h=[],b="",m=null,_="",g="",v="",y="",w="",C="",L="all",R="",F="",O="",I=!1,S=[],E=1,z=50,U="date",K="desc",J=!1;const X=[{key:"date",label:"Date",default:!0,sortable:!0},{key:"description",label:"Description",default:!0,sortable:!0},{key:"amount",label:"Amount",default:!0,sortable:!0},{key:"currency",label:"Currency",default:!1,sortable:!1},{key:"category_tier1",label:"Category (Tier1)",default:!0,sortable:!0},{key:"category_tier2",label:"Category (Tier2)",default:!1,sortable:!0},{key:"category_tier3",label:"Category (Tier3)",default:!1,sortable:!0},{key:"owner",label:"Owner",default:!0,sortable:!0},{key:"institution",label:"Institution",default:!1,sortable:!0},{key:"account",label:"Account",default:!1,sortable:!1},{key:"is_internal_transfer",label:"Internal Transfer",default:!1,sortable:!1},{key:"counterparty_name",label:"Counterparty",default:!1,sortable:!1},{key:"counterparty_account",label:"Counterparty Account",default:!1,sortable:!1},{key:"type",label:"Type",default:!1,sortable:!1},{key:"variable_symbol",label:"Variable Symbol",default:!1,sortable:!1}];let N={};function q(){const G=localStorage.getItem("transactionColumns");if(G)try{n(22,N=JSON.parse(G))}catch{n(22,N={}),X.forEach(fe=>{n(22,N[fe.key]=fe.default,N)})}else X.forEach(re=>{n(22,N[re.key]=re.default,N)})}function W(){localStorage.setItem("transactionColumns",JSON.stringify(N))}function x(){X.forEach(G=>{n(22,N[G.key]=G.default,N)}),W()}async function te(){try{const G=await Wa.getTree();n(8,d=G.data)}catch(G){console.error("Failed to load category tree:",G)}}async function le(){try{const G=await ll.getAll({limit:200}),re=new Set,fe=new Set;G.data.data.forEach(ge=>{ge.owner&&ge.owner!=="-"&&re.add(ge.owner),ge.institution&&ge.institution!=="-"&&fe.add(ge.institution)}),n(9,h=Array.from(re).sort()),n(20,S=Array.from(fe).sort())}catch(G){console.error("Failed to load owners:",G)}}async function Q(){try{n(5,a=!0),n(6,c=null);const G={skip:o,limit:z,sort_by:U,sort_order:K};b.trim()&&(G.search=b.trim()),_&&(G.from_date=_),g&&(G.to_date=g),v&&(G.owner=v),O&&(G.institution=O),y&&(G.category_tier1=y),w&&(G.category_tier2=w),C&&(G.category_tier3=C),L==="internal"&&(G.is_internal_transfer=!0),L==="exclude"&&(G.is_internal_transfer=!1),R&&(G.min_amount=parseFloat(R)),F&&(G.max_amount=parseFloat(F));const re=await ll.getAll(G);n(4,r=re.data.data),n(7,f=re.data.pagination)}catch(G){n(6,c=G.message)}finally{n(5,a=!1)}}function ne(G){const re=d.find(fe=>fe.tier1===G);return re?re.tier2_categories||[]:[]}function pe(G,re){const fe=d.find(nt=>nt.tier1===G);if(!fe)return[];const ge=fe.tier2_categories.find(nt=>nt.tier2===re);return ge?ge.tier3||[]:[]}function P(G){n(10,b=G.target.value),clearTimeout(m),m=setTimeout(()=>{n(2,E=1),Q()},300)}function M(G){U===G?K=K==="asc"?"desc":"asc":(U=G,K="desc"),n(2,E=1),Q()}function V(){n(2,E=1),Q()}function ue(){n(10,b=""),n(11,_=""),n(12,g=""),n(13,v=""),n(18,O=""),n(0,y=""),n(1,w=""),n(14,C=""),n(15,L="all"),n(16,R=""),n(17,F=""),n(2,E=1),Q()}function me(){E<f.total_pages&&(n(2,E++,E),Q())}function _e(){E>1&&(n(2,E--,E),Q())}function $(G){n(2,E=Math.max(1,Math.min(G,f.total_pages))),Q()}function he(G){n(3,z=G),n(2,E=1),Q()}zt(async()=>{q(),await te(),await le(),await Q()});function be(G){return U!==G?"â‡…":K==="asc"?"â†‘":"â†“"}function Oe(){const G=X.filter(se=>N[se.key]),re=G.map(se=>se.label).join(","),fe=r.map(se=>G.map(Ve=>{const Pt=On(se,Ve.key);return`"${String(Pt).replace(/"/g,'""')}"`}).join(",")),We="\uFEFF"+[re,...fe].join(`
`),Fe=new Blob([We],{type:"text/csv;charset=utf-8;"}),Z=document.createElement("a"),we=URL.createObjectURL(Fe);Z.setAttribute("href",we),Z.setAttribute("download",`transactions_${new Date().toISOString().split("T")[0]}.csv`),Z.style.visibility="hidden",document.body.appendChild(Z),Z.click(),document.body.removeChild(Z)}function et(){const G=X.filter(Z=>N[Z.key]);let re='<html xmlns:x="urn:schemas-microsoft-com:office:excel">';re+="<head>",re+='<meta charset="UTF-8">',re+="<xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet>",re+="<x:Name>Transactions</x:Name>",re+="<x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions>",re+="</x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml>",re+="</head><body>",re+="<table>",re+="<thead><tr>",G.forEach(Z=>{re+=`<th>${Z.label}</th>`}),re+="</tr></thead>",re+="<tbody>",r.forEach(Z=>{re+="<tr>",G.forEach(we=>{const se=On(Z,we.key),Ve=String(se).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");re+=`<td>${Ve}</td>`}),re+="</tr>"}),re+="</tbody></table></body></html>";const ge="\uFEFF"+re,nt=new Blob([ge],{type:"application/vnd.ms-excel;charset=utf-8;"}),We=document.createElement("a"),Fe=URL.createObjectURL(nt);We.setAttribute("href",Fe),We.setAttribute("download",`transactions_${new Date().toISOString().split("T")[0]}.xls`),We.style.visibility="hidden",document.body.appendChild(We),We.click(),document.body.removeChild(We)}const Be=()=>n(21,J=!J);function Me(G){N[G.key]=this.checked,n(22,N)}const Pe=()=>W();function Je(){b=this.value,n(10,b)}const ke=()=>{n(10,b=""),V()};function tt(){_=this.value,n(11,_)}function Ke(){g=this.value,n(12,g)}function Ae(){v=at(this),n(13,v),n(9,h)}function Ne(){y=at(this),n(0,y),n(8,d)}function ae(){w=at(this),n(1,w),n(24,l),n(0,y)}function Se(){C=at(this),n(14,C),n(23,s),n(0,y),n(1,w)}function bt(){L=at(this),n(15,L)}const Tt=()=>n(19,I=!I);function it(){R=st(this.value),n(16,R)}function dt(){F=st(this.value),n(17,F)}function gt(){O=at(this),n(18,O),n(20,S)}const Le=G=>G.sortable&&M(G.key);function Ee(){E=st(this.value),n(2,E)}const Xe=()=>$(E);function Ue(){z=at(this),n(3,z)}const Ye=()=>he(z);return t.$$.update=()=>{t.$$.dirty[0]&1&&n(24,l=y?ne(y):[]),t.$$.dirty[0]&3&&n(23,s=y&&w?pe(y,w):[]),t.$$.dirty[0]&12&&(o=(E-1)*z)},[y,w,E,z,r,a,c,f,d,h,b,_,g,v,C,L,R,F,O,I,S,J,N,s,l,X,W,x,Q,P,M,V,ue,me,_e,$,he,be,Oe,et,Be,Me,Pe,Je,ke,tt,Ke,Ae,Ne,ae,Se,bt,Tt,it,dt,gt,Le,Ee,Xe,Ue,Ye]}class dc extends ht{constructor(e){super(),_t(this,e,fc,ac,ut,{},null,[-1,-1,-1,-1])}}function Os(t,e,n){const l=t.slice();return l[18]=e[n],l}function As(t,e,n){const l=t.slice();return l[21]=e[n],l}function zs(t){let e,n;return{c(){e=p("div"),n=D(t[6]),u(e,"class","alert alert-error svelte-d83bhy")},m(l,s){A(l,e,s),i(e,n)},p(l,s){s&64&&Y(n,l[6])},d(l){l&&j(e)}}}function Ps(t){let e,n;return{c(){e=p("div"),n=D(t[7]),u(e,"class","alert alert-success svelte-d83bhy")},m(l,s){A(l,e,s),i(e,n)},p(l,s){s&128&&Y(n,l[7])},d(l){l&&j(e)}}}function Ns(t){let e,n=t[21].name+"",l,s;return{c(){e=p("option"),l=D(n),e.__value=s=t[21].id,H(e,e.__value)},m(o,r){A(o,e,r),i(e,l)},p(o,r){r&1&&n!==(n=o[21].name+"")&&Y(l,n),r&1&&s!==(s=o[21].id)&&(e.__value=s,H(e,e.__value))},d(o){o&&j(e)}}}function Fs(t){var o;let e,n,l=((o=t[0].find(t[12]))==null?void 0:o.file_format)+"",s;return{c(){e=p("small"),n=D("Supported formats: "),s=D(l),u(e,"class","help-text svelte-d83bhy")},m(r,a){A(r,e,a),i(e,n),i(e,s)},p(r,a){var c;a&3&&l!==(l=((c=r[0].find(r[12]))==null?void 0:c.file_format)+"")&&Y(s,l)},d(r){r&&j(e)}}}function Ds(t){let e,n,l=t[2].name+"",s,o,r=(t[2].size/1024).toFixed(1)+"",a,c;return{c(){e=p("small"),n=D("Selected: "),s=D(l),o=D(" ("),a=D(r),c=D(" KB)"),u(e,"class","help-text svelte-d83bhy")},m(f,d){A(f,e,d),i(e,n),i(e,s),i(e,o),i(e,a),i(e,c)},p(f,d){d&4&&l!==(l=f[2].name+"")&&Y(s,l),d&4&&r!==(r=(f[2].size/1024).toFixed(1)+"")&&Y(a,r)},d(f){f&&j(e)}}}function pc(t){let e,n,l,s,o,r=ce(t[5]),a=[];for(let c=0;c<r.length;c+=1)a[c]=Us(Os(t,r,c));return{c(){e=p("div"),n=p("table"),l=p("thead"),l.innerHTML='<tr><th class="svelte-d83bhy">Status</th> <th class="svelte-d83bhy">File</th> <th class="svelte-d83bhy">Institution</th> <th class="svelte-d83bhy">Created</th> <th class="svelte-d83bhy">Progress</th> <th class="svelte-d83bhy">Actions</th></tr>',s=k(),o=p("tbody");for(let c=0;c<a.length;c+=1)a[c].c();u(n,"class","jobs-table svelte-d83bhy"),u(e,"class","jobs-table-container svelte-d83bhy")},m(c,f){A(c,e,f),i(e,n),i(n,l),i(n,s),i(n,o);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(o,null)},p(c,f){if(f&1056){r=ce(c[5]);let d;for(d=0;d<r.length;d+=1){const h=Os(c,r,d);a[d]?a[d].p(h,f):(a[d]=Us(h),a[d].c(),a[d].m(o,null))}for(;d<a.length;d+=1)a[d].d(1);a.length=r.length}},d(c){c&&j(e),ze(a,c)}}}function _c(t){let e;return{c(){e=p("p"),e.textContent="No processing jobs yet. Upload a file to get started.",u(e,"class","no-jobs svelte-d83bhy")},m(n,l){A(n,e,l)},p:ie,d(n){n&&j(e)}}}function hc(t){let e;return{c(){e=p("div"),e.textContent="Waiting...",u(e,"class","progress-text svelte-d83bhy")},m(n,l){A(n,e,l)},p:ie,d(n){n&&j(e)}}}function mc(t){let e,n,l=t[18].parsed_rows+"",s,o,r=t[18].normalized_rows+"",a;return{c(){e=p("div"),n=D("Parsed: "),s=D(l),o=D(" | Normalized: "),a=D(r),u(e,"class","progress-text svelte-d83bhy")},m(c,f){A(c,e,f),i(e,n),i(e,s),i(e,o),i(e,a)},p(c,f){f&32&&l!==(l=c[18].parsed_rows+"")&&Y(s,l),f&32&&r!==(r=c[18].normalized_rows+"")&&Y(a,r)},d(c){c&&j(e)}}}function bc(t){let e,n=(t[18].error||"Processing failed")+"",l;return{c(){e=p("div"),l=D(n),u(e,"class","error-text svelte-d83bhy")},m(s,o){A(s,e,o),i(e,l)},p(s,o){o&32&&n!==(n=(s[18].error||"Processing failed")+"")&&Y(l,n)},d(s){s&&j(e)}}}function gc(t){let e,n,l=t[18].inserted_rows+"",s,o,r=t[18].updated_rows+"",a,c;return{c(){e=p("div"),n=D("âœ“ "),s=D(l),o=D(" inserted, "),a=D(r),c=D(" updated"),u(e,"class","progress-text svelte-d83bhy")},m(f,d){A(f,e,d),i(e,n),i(e,s),i(e,o),i(e,a),i(e,c)},p(f,d){d&32&&l!==(l=f[18].inserted_rows+"")&&Y(s,l),d&32&&r!==(r=f[18].updated_rows+"")&&Y(a,r)},d(f){f&&j(e)}}}function Us(t){let e,n,l,s=Is(t[18].status)+"",o,r,a=t[18].status+"",c,f,d,h=t[18].filename+"",b,m,_,g=t[18].institution+"",v,y,w,C=Bs(t[18].created_at)+"",L,R,F,O,I,S,E,z,U,K,J,X;function N(te,le){return te[18].status==="completed"?gc:te[18].status==="failed"?bc:te[18].status==="processing"?mc:hc}let q=N(t),W=q(t);function x(){return t[14](t[18])}return{c(){e=p("tr"),n=p("td"),l=p("span"),o=D(s),r=k(),c=D(a),f=k(),d=p("td"),b=D(h),m=k(),_=p("td"),v=D(g),y=k(),w=p("td"),L=D(C),R=k(),F=p("td"),W.c(),O=k(),I=p("td"),S=p("button"),E=D("Delete"),U=k(),u(l,"class","status-badge svelte-d83bhy"),pt(l,"background-color",Ls(t[18].status)),u(n,"class","svelte-d83bhy"),u(d,"class","svelte-d83bhy"),u(_,"class","svelte-d83bhy"),u(w,"class","svelte-d83bhy"),u(F,"class","svelte-d83bhy"),u(S,"class","btn btn-small btn-danger svelte-d83bhy"),S.disabled=z=t[18].status==="processing",u(I,"class","svelte-d83bhy"),u(e,"class",K="job-row status-"+t[18].status+" svelte-d83bhy")},m(te,le){A(te,e,le),i(e,n),i(n,l),i(l,o),i(l,r),i(l,c),i(e,f),i(e,d),i(d,b),i(e,m),i(e,_),i(_,v),i(e,y),i(e,w),i(w,L),i(e,R),i(e,F),W.m(F,null),i(e,O),i(e,I),i(I,S),i(S,E),i(e,U),J||(X=B(S,"click",x),J=!0)},p(te,le){t=te,le&32&&s!==(s=Is(t[18].status)+"")&&Y(o,s),le&32&&a!==(a=t[18].status+"")&&Y(c,a),le&32&&pt(l,"background-color",Ls(t[18].status)),le&32&&h!==(h=t[18].filename+"")&&Y(b,h),le&32&&g!==(g=t[18].institution+"")&&Y(v,g),le&32&&C!==(C=Bs(t[18].created_at)+"")&&Y(L,C),q===(q=N(t))&&W?W.p(t,le):(W.d(1),W=q(t),W&&(W.c(),W.m(F,null))),le&32&&z!==(z=t[18].status==="processing")&&(S.disabled=z),le&32&&K!==(K="job-row status-"+t[18].status+" svelte-d83bhy")&&u(e,"class",K)},d(te){te&&j(e),W.d(),J=!1,X()}}}function vc(t){let e,n,l,s,o,r,a,c,f,d,h,b,m,_,g,v,y,w,C,L,R,F,O,I,S,E,z,U,K=t[4]?"Uploading...":"Upload and Process",J,X,N,q,W,x,te,le,Q=t[6]&&zs(t),ne=t[7]&&Ps(t),pe=ce(t[0]),P=[];for(let $=0;$<pe.length;$+=1)P[$]=Ns(As(t,pe,$));let M=t[1]&&Fs(t),V=t[2]&&Ds(t);function ue($,he){return $[5].length===0?_c:pc}let me=ue(t),_e=me(t);return{c(){e=p("div"),n=p("h1"),n.textContent="File Upload & Processing",l=k(),s=p("div"),o=p("h2"),o.textContent="Upload New File",r=k(),Q&&Q.c(),a=k(),ne&&ne.c(),c=k(),f=p("div"),d=p("label"),d.textContent="Institution",h=k(),b=p("select");for(let $=0;$<P.length;$+=1)P[$].c();m=k(),M&&M.c(),_=k(),g=p("div"),v=p("label"),v.textContent="File",y=k(),w=p("input"),C=k(),V&&V.c(),L=k(),R=p("div"),F=p("label"),O=p("input"),I=D(`
        Override existing transactions`),S=k(),E=p("small"),E.textContent="If checked, existing transactions with same ID will be updated",z=k(),U=p("button"),J=D(K),N=k(),q=p("div"),W=p("h2"),W.textContent="Processing Jobs",x=k(),_e.c(),u(n,"class","svelte-d83bhy"),u(o,"class","svelte-d83bhy"),u(d,"for","institution"),u(d,"class","svelte-d83bhy"),u(b,"id","institution"),b.disabled=t[4],u(b,"class","svelte-d83bhy"),t[1]===void 0&&Ie(()=>t[11].call(b)),u(f,"class","form-group svelte-d83bhy"),u(v,"for","file-input"),u(v,"class","svelte-d83bhy"),u(w,"id","file-input"),u(w,"type","file"),u(w,"accept",".csv,.xlsx,.xls"),w.disabled=t[4],u(w,"class","svelte-d83bhy"),u(g,"class","form-group svelte-d83bhy"),u(O,"type","checkbox"),O.disabled=t[4],u(O,"class","svelte-d83bhy"),u(F,"class","svelte-d83bhy"),u(E,"class","help-text svelte-d83bhy"),u(R,"class","form-group checkbox-group svelte-d83bhy"),u(U,"class","btn btn-primary svelte-d83bhy"),U.disabled=X=!t[2]||!t[1]||t[4],u(s,"class","upload-card svelte-d83bhy"),u(W,"class","svelte-d83bhy"),u(q,"class","jobs-section svelte-d83bhy"),u(e,"class","file-upload-container svelte-d83bhy")},m($,he){A($,e,he),i(e,n),i(e,l),i(e,s),i(s,o),i(s,r),Q&&Q.m(s,null),i(s,a),ne&&ne.m(s,null),i(s,c),i(s,f),i(f,d),i(f,h),i(f,b);for(let be=0;be<P.length;be+=1)P[be]&&P[be].m(b,null);Te(b,t[1],!0),i(f,m),M&&M.m(f,null),i(s,_),i(s,g),i(g,v),i(g,y),i(g,w),i(g,C),V&&V.m(g,null),i(s,L),i(s,R),i(R,F),i(F,O),O.checked=t[3],i(F,I),i(R,S),i(R,E),i(s,z),i(s,U),i(U,J),i(e,N),i(e,q),i(q,W),i(q,x),_e.m(q,null),te||(le=[B(b,"change",t[11]),B(w,"change",t[8]),B(O,"change",t[13]),B(U,"click",t[9])],te=!0)},p($,[he]){if($[6]?Q?Q.p($,he):(Q=zs($),Q.c(),Q.m(s,a)):Q&&(Q.d(1),Q=null),$[7]?ne?ne.p($,he):(ne=Ps($),ne.c(),ne.m(s,c)):ne&&(ne.d(1),ne=null),he&1){pe=ce($[0]);let be;for(be=0;be<pe.length;be+=1){const Oe=As($,pe,be);P[be]?P[be].p(Oe,he):(P[be]=Ns(Oe),P[be].c(),P[be].m(b,null))}for(;be<P.length;be+=1)P[be].d(1);P.length=pe.length}he&16&&(b.disabled=$[4]),he&3&&Te(b,$[1]),$[1]?M?M.p($,he):(M=Fs($),M.c(),M.m(f,null)):M&&(M.d(1),M=null),he&16&&(w.disabled=$[4]),$[2]?V?V.p($,he):(V=Ds($),V.c(),V.m(g,null)):V&&(V.d(1),V=null),he&16&&(O.disabled=$[4]),he&8&&(O.checked=$[3]),he&16&&K!==(K=$[4]?"Uploading...":"Upload and Process")&&Y(J,K),he&23&&X!==(X=!$[2]||!$[1]||$[4])&&(U.disabled=X),me===(me=ue($))&&_e?_e.p($,he):(_e.d(1),_e=me($),_e&&(_e.c(),_e.m(q,null)))},i:ie,o:ie,d($){$&&j(e),Q&&Q.d(),ne&&ne.d(),ze(P,$),M&&M.d(),V&&V.d(),_e.d(),te=!1,Re(le)}}}function Ls(t){switch(t){case"completed":return"green";case"failed":return"red";case"processing":return"blue";case"pending":return"orange";default:return"gray"}}function Is(t){switch(t){case"completed":return"âœ“";case"failed":return"âœ—";case"processing":return"âŸ³";case"pending":return"â‹¯";default:return"?"}}function Bs(t){return t?new Date(t).toLocaleString():"-"}function yc(t,e,n){let l=[],s="",o=null,r=!1,a=!1,c=[],f=null,d=null,h;zt(async()=>(await b(),await m(),h=setInterval(m,2e3),()=>{h&&clearInterval(h)}));async function b(){try{const R=await ve.get("/files/institutions");n(0,l=R.data),l.length>0&&n(1,s=l[0].id)}catch(R){n(6,f=`Failed to load institutions: ${R.message}`)}}async function m(){try{const R=await ve.get("/files/jobs");n(5,c=R.data)}catch(R){console.error("Failed to load jobs:",R)}}function _(R){const F=R.target.files;F.length>0&&n(2,o=F[0])}async function g(){var R,F;if(!o||!s){n(6,f="Please select a file and institution");return}n(4,a=!0),n(6,f=null),n(7,d=null);try{const O=new FormData;O.append("file",o),O.append("institution",s),O.append("override_existing",r);const I=await ve.post("/files/upload",O,{headers:{"Content-Type":"multipart/form-data"}});n(7,d=I.data.message),n(2,o=null),document.getElementById("file-input").value="",await m()}catch(O){n(6,f=((F=(R=O.response)==null?void 0:R.data)==null?void 0:F.detail)||O.message)}finally{n(4,a=!1)}}async function v(R){if(confirm("Delete this job?"))try{await ve.delete(`/files/jobs/${R}`),await m()}catch(F){n(6,f=`Failed to delete job: ${F.message}`)}}function y(){s=at(this),n(1,s),n(0,l)}const w=R=>R.id===s;function C(){r=this.checked,n(3,r)}return[l,s,o,r,a,c,f,d,_,g,v,y,w,C,R=>v(R.id)]}class kc extends ht{constructor(e){super(),_t(this,e,yc,vc,ut,{})}}function Ms(t,e,n){const l=t.slice();return l[38]=e[n],l}function qs(t,e,n){const l=t.slice();return l[41]=e[n],l}function Hs(t,e,n){const l=t.slice();return l[44]=e[n],l}function Js(t){let e,n;return{c(){e=p("div"),n=D(t[2]),u(e,"class","alert alert-error svelte-11tt7zh")},m(l,s){A(l,e,s),i(e,n)},p(l,s){s[0]&4&&Y(n,l[2])},d(l){l&&j(e)}}}function Ks(t){let e,n;return{c(){e=p("div"),n=D(t[3]),u(e,"class","alert alert-success svelte-11tt7zh")},m(l,s){A(l,e,s),i(e,n)},p(l,s){s[0]&8&&Y(n,l[3])},d(l){l&&j(e)}}}function wc(t){let e,n=ce(t[0]),l=[];for(let s=0;s<n.length;s+=1)l[s]=Xs(Ms(t,n,s));return{c(){e=p("div");for(let s=0;s<l.length;s+=1)l[s].c();u(e,"class","category-tree svelte-11tt7zh")},m(s,o){A(s,e,o);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(s,o){if(o[0]&4095489){n=ce(s[0]);let r;for(r=0;r<n.length;r+=1){const a=Ms(s,n,r);l[r]?l[r].p(a,o):(l[r]=Xs(a),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},d(s){s&&j(e),ze(l,s)}}}function Cc(t){let e;return{c(){e=p("div"),e.textContent="Loading categories...",u(e,"class","loading svelte-11tt7zh")},m(n,l){A(n,e,l)},p:ie,d(n){n&&j(e)}}}function Ec(t){let e,n=t[38].tier1+"",l,s,o,r,a,c,f,d,h,b;function m(){return t[27](t[38])}function _(){return t[28](t[38])}function g(){return t[29](t[38])}return{c(){e=p("span"),l=D(n),s=k(),o=p("div"),r=p("button"),r.textContent="+",a=k(),c=p("button"),c.textContent="âœŽ",f=k(),d=p("button"),d.textContent="ðŸ—‘",u(e,"class","category-name svelte-11tt7zh"),u(r,"class","btn-icon svelte-11tt7zh"),u(r,"title","Add Tier2"),u(c,"class","btn-icon svelte-11tt7zh"),u(c,"title","Rename"),u(d,"class","btn-icon btn-danger svelte-11tt7zh"),u(d,"title","Delete"),u(o,"class","category-actions svelte-11tt7zh")},m(v,y){A(v,e,y),i(e,l),A(v,s,y),A(v,o,y),i(o,r),i(o,a),i(o,c),i(o,f),i(o,d),h||(b=[B(r,"click",m),B(c,"click",_),B(d,"click",g)],h=!0)},p(v,y){t=v,y[0]&1&&n!==(n=t[38].tier1+"")&&Y(l,n)},d(v){v&&(j(e),j(s),j(o)),h=!1,Re(b)}}}function Sc(t){let e,n,l,s,o,r,a;return{c(){e=p("input"),n=k(),l=p("button"),l.textContent="âœ“",s=k(),o=p("button"),o.textContent="âœ—",u(e,"type","text"),u(e,"class","edit-input svelte-11tt7zh"),u(l,"class","btn-icon btn-success svelte-11tt7zh"),u(o,"class","btn-icon btn-danger svelte-11tt7zh")},m(c,f){A(c,e,f),H(e,t[9]),A(c,n,f),A(c,l,f),A(c,s,f),A(c,o,f),r||(a=[B(e,"input",t[25]),B(e,"keydown",t[26]),B(l,"click",t[20]),B(o,"click",t[19])],r=!0)},p(c,f){f[0]&512&&e.value!==c[9]&&H(e,c[9])},d(c){c&&(j(e),j(n),j(l),j(s),j(o)),r=!1,Re(a)}}}function Ws(t){let e,n=ce(t[38].tier2_categories),l=[];for(let s=0;s<n.length;s+=1)l[s]=Gs(qs(t,n,s));return{c(){e=p("div");for(let s=0;s<l.length;s+=1)l[s].c();u(e,"class","tier2-container svelte-11tt7zh")},m(s,o){A(s,e,o);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(s,o){if(o[0]&157697){n=ce(s[38].tier2_categories);let r;for(r=0;r<n.length;r+=1){const a=qs(s,n,r);l[r]?l[r].p(a,o):(l[r]=Gs(a),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},d(s){s&&j(e),ze(l,s)}}}function Vs(t){let e,n=ce(t[41].tier3),l=[];for(let s=0;s<n.length;s+=1)l[s]=Zs(Hs(t,n,s));return{c(){e=p("div");for(let s=0;s<l.length;s+=1)l[s].c();u(e,"class","tier3-container svelte-11tt7zh")},m(s,o){A(s,e,o);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(s,o){if(o[0]&131073){n=ce(s[41].tier3);let r;for(r=0;r<n.length;r+=1){const a=Hs(s,n,r);l[r]?l[r].p(a,o):(l[r]=Zs(a),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},d(s){s&&j(e),ze(l,s)}}}function Zs(t){let e,n,l,s,o=t[44]+"",r,a,c,f,d,h,b;function m(){return t[33](t[38],t[41],t[44])}return{c(){e=p("div"),n=p("span"),n.textContent="â€¢",l=k(),s=p("span"),r=D(o),a=k(),c=p("div"),f=p("button"),f.textContent="ðŸ—‘",d=k(),u(n,"class","tier3-bullet svelte-11tt7zh"),u(s,"class","category-name svelte-11tt7zh"),u(f,"class","btn-icon btn-danger svelte-11tt7zh"),u(f,"title","Delete"),u(c,"class","category-actions svelte-11tt7zh"),u(e,"class","category-item tier3-item svelte-11tt7zh")},m(_,g){A(_,e,g),i(e,n),i(e,l),i(e,s),i(s,r),i(e,a),i(e,c),i(c,f),i(e,d),h||(b=B(f,"click",m),h=!0)},p(_,g){t=_,g[0]&1&&o!==(o=t[44]+"")&&Y(r,o)},d(_){_&&j(e),h=!1,b()}}}function Gs(t){let e,n,l,s=t[11].has(`${t[38].tier1}|${t[41].tier2}`)?"â–¼":"â–¶",o,r,a,c=t[41].tier2+"",f,d,h,b,m,_,g,v=t[11].has(`${t[38].tier1}|${t[41].tier2}`),y,w,C;function L(){return t[30](t[38],t[41])}function R(){return t[31](t[38],t[41])}function F(){return t[32](t[38],t[41])}let O=v&&Vs(t);return{c(){e=p("div"),n=p("div"),l=p("button"),o=D(s),r=k(),a=p("span"),f=D(c),d=k(),h=p("div"),b=p("button"),b.textContent="+",m=k(),_=p("button"),_.textContent="ðŸ—‘",g=k(),O&&O.c(),y=k(),u(l,"class","expand-btn svelte-11tt7zh"),u(a,"class","category-name svelte-11tt7zh"),u(b,"class","btn-icon svelte-11tt7zh"),u(b,"title","Add Tier3"),u(_,"class","btn-icon btn-danger svelte-11tt7zh"),u(_,"title","Delete"),u(h,"class","category-actions svelte-11tt7zh"),u(n,"class","category-item tier2-item svelte-11tt7zh"),u(e,"class","tier2-node svelte-11tt7zh")},m(I,S){A(I,e,S),i(e,n),i(n,l),i(l,o),i(n,r),i(n,a),i(a,f),i(n,d),i(n,h),i(h,b),i(h,m),i(h,_),i(e,g),O&&O.m(e,null),i(e,y),w||(C=[B(l,"click",L),B(b,"click",R),B(_,"click",F)],w=!0)},p(I,S){t=I,S[0]&2049&&s!==(s=t[11].has(`${t[38].tier1}|${t[41].tier2}`)?"â–¼":"â–¶")&&Y(o,s),S[0]&1&&c!==(c=t[41].tier2+"")&&Y(f,c),S[0]&2049&&(v=t[11].has(`${t[38].tier1}|${t[41].tier2}`)),v?O?O.p(t,S):(O=Vs(t),O.c(),O.m(e,y)):O&&(O.d(1),O=null)},d(I){I&&j(e),O&&O.d(),w=!1,Re(C)}}}function Xs(t){let e,n,l,s=t[10].has(t[38].tier1)?"â–¼":"â–¶",o,r,a,c,f=t[10].has(t[38].tier1),d,h,b;function m(){return t[24](t[38])}function _(w,C){return C[0]&1&&(a=null),a==null&&(a=!!w[21](w[38].tier1)),a?Sc:Ec}let g=_(t,[-1,-1]),v=g(t),y=f&&Ws(t);return{c(){e=p("div"),n=p("div"),l=p("button"),o=D(s),r=k(),v.c(),c=k(),y&&y.c(),d=k(),u(l,"class","expand-btn svelte-11tt7zh"),u(n,"class","category-item tier1-item svelte-11tt7zh"),u(e,"class","tier1-node svelte-11tt7zh")},m(w,C){A(w,e,C),i(e,n),i(n,l),i(l,o),i(n,r),v.m(n,null),i(e,c),y&&y.m(e,null),i(e,d),h||(b=B(l,"click",m),h=!0)},p(w,C){t=w,C[0]&1025&&s!==(s=t[10].has(t[38].tier1)?"â–¼":"â–¶")&&Y(o,s),g===(g=_(t,C))&&v?v.p(t,C):(v.d(1),v=g(t),v&&(v.c(),v.m(n,null))),C[0]&1025&&(f=t[10].has(t[38].tier1)),f?y?y.p(t,C):(y=Ws(t),y.c(),y.m(e,d)):y&&(y.d(1),y=null)},d(w){w&&j(e),v.d(),y&&y.d(),h=!1,b()}}}function Ys(t){let e,n,l,s,o,r=t[5]==="tier1"?"Tier1":t[5]==="tier2"?"Tier2":"Tier3",a,c,f,d,h,b,m,_,g,v,y,w,C,L,R,F,O,I;function S(U,K){if(U[5]==="tier2")return Rc;if(U[5]==="tier3")return Tc}let E=S(t),z=E&&E(t);return{c(){e=p("div"),n=p("div"),l=p("div"),s=p("h2"),o=D("Add "),a=D(r),c=D(" Category"),f=k(),d=p("button"),d.textContent="Ã—",h=k(),b=p("div"),z&&z.c(),m=k(),_=p("div"),g=p("label"),g.textContent="Category Name",v=k(),y=p("input"),w=k(),C=p("div"),L=p("button"),L.textContent="Cancel",R=k(),F=p("button"),F.textContent="Add Category",u(s,"class","svelte-11tt7zh"),u(d,"class","close-btn svelte-11tt7zh"),u(l,"class","modal-header svelte-11tt7zh"),u(g,"for","category-name"),u(g,"class","svelte-11tt7zh"),u(y,"id","category-name"),u(y,"type","text"),u(y,"placeholder","Enter category name"),y.autofocus=!0,u(y,"class","svelte-11tt7zh"),u(_,"class","form-group svelte-11tt7zh"),u(b,"class","modal-body svelte-11tt7zh"),u(L,"class","btn btn-secondary svelte-11tt7zh"),u(F,"class","btn btn-primary svelte-11tt7zh"),u(C,"class","modal-footer svelte-11tt7zh"),u(n,"class","modal svelte-11tt7zh"),u(e,"class","modal-backdrop svelte-11tt7zh")},m(U,K){A(U,e,K),i(e,n),i(n,l),i(l,s),i(s,o),i(s,a),i(s,c),i(l,f),i(l,d),i(n,h),i(n,b),z&&z.m(b,null),i(b,m),i(b,_),i(_,g),i(_,v),i(_,y),H(y,t[8]),i(n,w),i(n,C),i(C,L),i(C,R),i(C,F),y.focus(),O||(I=[B(d,"click",t[15]),B(y,"input",t[34]),B(y,"keydown",t[35]),B(L,"click",t[15]),B(F,"click",t[16]),B(n,"click",Ro(t[22])),B(e,"click",t[15])],O=!0)},p(U,K){K[0]&32&&r!==(r=U[5]==="tier1"?"Tier1":U[5]==="tier2"?"Tier2":"Tier3")&&Y(a,r),E===(E=S(U))&&z?z.p(U,K):(z&&z.d(1),z=E&&E(U),z&&(z.c(),z.m(b,m))),K[0]&256&&y.value!==U[8]&&H(y,U[8])},d(U){U&&j(e),z&&z.d(),O=!1,Re(I)}}}function Tc(t){let e,n,l,s,o,r;return{c(){e=p("p"),n=D("Parent: "),l=p("strong"),s=D(t[6]),o=D(" â†’ "),r=D(t[7]),u(e,"class","modal-info svelte-11tt7zh")},m(a,c){A(a,e,c),i(e,n),i(e,l),i(l,s),i(l,o),i(l,r)},p(a,c){c[0]&64&&Y(s,a[6]),c[0]&128&&Y(r,a[7])},d(a){a&&j(e)}}}function Rc(t){let e,n,l,s;return{c(){e=p("p"),n=D("Parent: "),l=p("strong"),s=D(t[6]),u(e,"class","modal-info svelte-11tt7zh")},m(o,r){A(o,e,r),i(e,n),i(e,l),i(l,s)},p(o,r){r[0]&64&&Y(s,o[6])},d(o){o&&j(e)}}}function jc(t){let e,n,l,s,o,r,a,c,f,d,h,b,m=t[2]&&Js(t),_=t[3]&&Ks(t);function g(C,L){return C[1]?Cc:wc}let v=g(t),y=v(t),w=t[4]&&Ys(t);return{c(){e=p("div"),n=p("div"),l=p("h1"),l.textContent="Category Management",s=k(),o=p("button"),o.textContent="+ Add Tier1 Category",r=k(),m&&m.c(),a=k(),_&&_.c(),c=k(),y.c(),f=k(),w&&w.c(),d=ft(),u(l,"class","svelte-11tt7zh"),u(o,"class","btn btn-primary svelte-11tt7zh"),u(n,"class","header svelte-11tt7zh"),u(e,"class","categories-container svelte-11tt7zh")},m(C,L){A(C,e,L),i(e,n),i(n,l),i(n,s),i(n,o),i(e,r),m&&m.m(e,null),i(e,a),_&&_.m(e,null),i(e,c),y.m(e,null),A(C,f,L),w&&w.m(C,L),A(C,d,L),h||(b=B(o,"click",t[23]),h=!0)},p(C,L){C[2]?m?m.p(C,L):(m=Js(C),m.c(),m.m(e,a)):m&&(m.d(1),m=null),C[3]?_?_.p(C,L):(_=Ks(C),_.c(),_.m(e,c)):_&&(_.d(1),_=null),v===(v=g(C))&&y?y.p(C,L):(y.d(1),y=v(C),y&&(y.c(),y.m(e,null))),C[4]?w?w.p(C,L):(w=Ys(C),w.c(),w.m(d.parentNode,d)):w&&(w.d(1),w=null)},i:ie,o:ie,d(C){C&&(j(e),j(f),j(d)),m&&m.d(),_&&_.d(),y.d(),w&&w.d(C),h=!1,b()}}}function Oc(t,e,n){let l=[],s=!0,o=null,r=null,a=!1,c="",f="",d="",h="",b=null,m="",_=new Set,g=new Set;zt(async()=>{await v()});async function v(){try{n(1,s=!0),n(2,o=null);const P=await ve.get("/categories/tree");n(0,l=P.data),l.forEach(M=>{_.add(M.tier1),M.tier2_categories.forEach(V=>{g.add(`${M.tier1}|${V.tier2}`)})})}catch(P){n(2,o=`Failed to load categories: ${P.message}`)}finally{n(1,s=!1)}}function y(P){_.has(P)?_.delete(P):_.add(P),n(10,_)}function w(P,M){const V=`${P}|${M}`;g.has(V)?g.delete(V):g.add(V),n(11,g)}function C(P,M="",V=""){n(5,c=P),n(6,f=M),n(7,d=V),n(8,h=""),n(4,a=!0)}function L(){n(4,a=!1),n(8,h=""),n(2,o=null)}async function R(){var P,M;if(!h.trim()){n(2,o="Category name cannot be empty");return}try{n(2,o=null),n(3,r=null),c==="tier1"?(await ve.post("/categories/tier1",null,{params:{name:h}}),n(3,r="Tier1 category added successfully")):c==="tier2"?(await ve.post(`/categories/tier2/${f}`,null,{params:{name:h}}),n(3,r="Tier2 category added successfully")):c==="tier3"&&(await ve.post(`/categories/tier3/${f}/${d}`,null,{params:{name:h}}),n(3,r="Tier3 category added successfully")),L(),await v()}catch(V){n(2,o=((M=(P=V.response)==null?void 0:P.data)==null?void 0:M.detail)||V.message)}}async function F(P,M=null,V=null){var me,_e;let ue="";if(V?ue=`Delete category "${V}"?`:M?ue=`Delete category "${M}" and all its subcategories?`:ue=`Delete category "${P}" and all its subcategories?`,!!confirm(ue))try{n(2,o=null),n(3,r=null),V?(await ve.delete(`/categories/tier3/${P}/${M}/${V}`),n(3,r="Tier3 category deleted")):M?(await ve.delete(`/categories/tier2/${P}/${M}`),n(3,r="Tier2 category deleted")):(await ve.delete(`/categories/tier1/${P}`),n(3,r="Tier1 category deleted")),await v()}catch($){n(2,o=((_e=(me=$.response)==null?void 0:me.data)==null?void 0:_e.detail)||$.message)}}function O(P,M=null,V=null){V?(b={tier1:P,tier2:M,tier3:V,level:"tier3"},n(9,m=V)):M?(b={tier1:P,tier2:M,level:"tier2"},n(9,m=M)):(b={tier1:P,level:"tier1"},n(9,m=P))}function I(){b=null,n(9,m="")}async function S(){var P,M;if(!m.trim()){n(2,o="Category name cannot be empty");return}try{n(2,o=null),n(3,r=null),b.level==="tier1"&&(await ve.put(`/categories/tier1/${b.tier1}`,null,{params:{new_name:m}}),n(3,r="Category renamed successfully")),b=null,n(9,m=""),await v()}catch(V){n(2,o=((M=(P=V.response)==null?void 0:P.data)==null?void 0:M.detail)||V.message)}}function E(P,M=null,V=null){return b?V?b.level==="tier3"&&b.tier1===P&&b.tier2===M&&b.tier3===V:M?b.level==="tier2"&&b.tier1===P&&b.tier2===M:b.level==="tier1"&&b.tier1===P:!1}function z(P){Ao.call(this,t,P)}const U=()=>C("tier1"),K=P=>y(P.tier1);function J(){m=this.value,n(9,m)}const X=P=>P.key==="Enter"&&S(),N=P=>C("tier2",P.tier1),q=P=>O(P.tier1),W=P=>F(P.tier1),x=(P,M)=>w(P.tier1,M.tier2),te=(P,M)=>C("tier3",P.tier1,M.tier2),le=(P,M)=>F(P.tier1,M.tier2),Q=(P,M,V)=>F(P.tier1,M.tier2,V);function ne(){h=this.value,n(8,h)}return[l,s,o,r,a,c,f,d,h,m,_,g,y,w,C,L,R,F,O,I,S,E,z,U,K,J,X,N,q,W,x,te,le,Q,ne,P=>P.key==="Enter"&&R()]}class Ac extends ht{constructor(e){super(),_t(this,e,Oc,jc,ut,{},null,[-1,-1])}}function Qs(t,e,n){const l=t.slice();return l[39]=e[n],l}function $s(t,e,n){const l=t.slice();return l[42]=e[n],l}function xs(t,e,n){const l=t.slice();return l[45]=e[n],l}function eo(t,e,n){const l=t.slice();return l[48]=e[n],l}function to(t){let e,n;return{c(){e=p("div"),n=D(t[4]),u(e,"class","alert alert-error svelte-1olv1ib")},m(l,s){A(l,e,s),i(e,n)},p(l,s){s[0]&16&&Y(n,l[4])},d(l){l&&j(e)}}}function no(t){let e,n;return{c(){e=p("div"),n=D(t[5]),u(e,"class","alert alert-success svelte-1olv1ib")},m(l,s){A(l,e,s),i(e,n)},p(l,s){s[0]&32&&Y(n,l[5])},d(l){l&&j(e)}}}function zc(t){let e,n,l,s,o,r,a=ce(t[8]),c=[];for(let d=0;d<a.length;d+=1)c[d]=lo(eo(t,a,d));let f=t[8].length===0&&so(t);return{c(){e=p("div"),n=p("table"),l=p("thead"),l.innerHTML='<tr><th class="svelte-1olv1ib">Priority</th> <th class="svelte-1olv1ib">Conditions</th> <th class="svelte-1olv1ib">Category</th> <th class="svelte-1olv1ib">Owner</th> <th class="svelte-1olv1ib">Actions</th></tr>',s=k(),o=p("tbody");for(let d=0;d<c.length;d+=1)c[d].c();r=k(),f&&f.c(),u(n,"class","rules-table svelte-1olv1ib"),u(e,"class","rules-table-container svelte-1olv1ib")},m(d,h){A(d,e,h),i(e,n),i(n,l),i(n,s),i(n,o);for(let b=0;b<c.length;b+=1)c[b]&&c[b].m(o,null);i(o,r),f&&f.m(o,null)},p(d,h){if(h[0]&37120){a=ce(d[8]);let b;for(b=0;b<a.length;b+=1){const m=eo(d,a,b);c[b]?c[b].p(m,h):(c[b]=lo(m),c[b].c(),c[b].m(o,r))}for(;b<c.length;b+=1)c[b].d(1);c.length=a.length}d[8].length===0?f?f.p(d,h):(f=so(d),f.c(),f.m(o,null)):f&&(f.d(1),f=null)},d(d){d&&j(e),ze(c,d),f&&f.d()}}}function Pc(t){let e;return{c(){e=p("div"),e.textContent="Loading rules...",u(e,"class","loading svelte-1olv1ib")},m(n,l){A(n,e,l)},p:ie,d(n){n&&j(e)}}}function lo(t){let e,n,l,s=t[48].priority+"",o,r,a,c,f=co(t[48])+"",d,h,b,m,_,g=t[48].tier1+"",v,y,w,C,L,R=t[48].tier2+"",F,O,I,S,E,z=t[48].tier3+"",U,K,J,X=(t[48].owner||"-")+"",N,q,W,x,te,le,Q,ne,pe;function P(){return t[21](t[48])}function M(){return t[22](t[48])}return{c(){e=p("tr"),n=p("td"),l=p("span"),o=D(s),r=k(),a=p("td"),c=p("div"),d=D(f),h=k(),b=p("td"),m=p("div"),_=p("span"),v=D(g),y=k(),w=p("span"),w.textContent="â†’",C=k(),L=p("span"),F=D(R),O=k(),I=p("span"),I.textContent="â†’",S=k(),E=p("span"),U=D(z),K=k(),J=p("td"),N=D(X),q=k(),W=p("td"),x=p("div"),te=p("button"),te.textContent="âœŽ",le=k(),Q=p("button"),Q.textContent="ðŸ—‘",u(l,"class","priority-badge svelte-1olv1ib"),u(n,"class","svelte-1olv1ib"),u(c,"class","conditions-text svelte-1olv1ib"),u(a,"class","conditions-cell svelte-1olv1ib"),u(_,"class","tier1 svelte-1olv1ib"),u(w,"class","separator svelte-1olv1ib"),u(L,"class","tier2 svelte-1olv1ib"),u(I,"class","separator svelte-1olv1ib"),u(E,"class","tier3 svelte-1olv1ib"),u(m,"class","category-path svelte-1olv1ib"),u(b,"class","svelte-1olv1ib"),u(J,"class","svelte-1olv1ib"),u(te,"class","btn-icon svelte-1olv1ib"),u(te,"title","Edit"),u(Q,"class","btn-icon btn-danger svelte-1olv1ib"),u(Q,"title","Delete"),u(x,"class","action-buttons svelte-1olv1ib"),u(W,"class","svelte-1olv1ib"),u(e,"class","rule-row svelte-1olv1ib")},m(V,ue){A(V,e,ue),i(e,n),i(n,l),i(l,o),i(e,r),i(e,a),i(a,c),i(c,d),i(e,h),i(e,b),i(b,m),i(m,_),i(_,v),i(m,y),i(m,w),i(m,C),i(m,L),i(L,F),i(m,O),i(m,I),i(m,S),i(m,E),i(E,U),i(e,K),i(e,J),i(J,N),i(e,q),i(e,W),i(W,x),i(x,te),i(x,le),i(x,Q),ne||(pe=[B(te,"click",P),B(Q,"click",M)],ne=!0)},p(V,ue){t=V,ue[0]&256&&s!==(s=t[48].priority+"")&&Y(o,s),ue[0]&256&&f!==(f=co(t[48])+"")&&Y(d,f),ue[0]&256&&g!==(g=t[48].tier1+"")&&Y(v,g),ue[0]&256&&R!==(R=t[48].tier2+"")&&Y(F,R),ue[0]&256&&z!==(z=t[48].tier3+"")&&Y(U,z),ue[0]&256&&X!==(X=(t[48].owner||"-")+"")&&Y(N,X)},d(V){V&&j(e),ne=!1,Re(pe)}}}function so(t){let e,n,l,s=t[2]?"Try a different filter.":"Add your first rule!",o;return{c(){e=p("tr"),n=p("td"),l=D("No rules found. "),o=D(s),u(n,"colspan","5"),u(n,"class","no-rules svelte-1olv1ib")},m(r,a){A(r,e,a),i(e,n),i(n,l),i(n,o)},p(r,a){a[0]&4&&s!==(s=r[2]?"Try a different filter.":"Add your first rule!")&&Y(o,s)},d(r){r&&j(e)}}}function oo(t){let e,n,l,s,o=t[7]?"Edit Rule":"Add New Rule",r,a,c,f,d,h,b,m,_,g,v,y,w,C,L,R,F,O,I,S,E,z,U,K,J,X,N,q,W,x,te,le,Q,ne,pe,P,M,V,ue,me,_e,$,he,be,Oe,et,Be,Me,Pe,Je,ke,tt,Ke,Ae,Ne,ae,Se,bt,Tt,it,dt,gt,Le,Ee,Xe,Ue,Ye,G,re,fe,ge,nt,We,Fe,Z,we,se,Ve,Pt,Dn,mn,Nt,$t,ul,vt,fl,Ft,xt,dl,en,bn=t[7]?"Update Rule":"Create Rule",Un,Ln,pl,Dt=ce(t[0]),Qe=[];for(let ee=0;ee<Dt.length;ee+=1)Qe[ee]=ro(xs(t,Dt,ee));let Ut=ce(t[10]),$e=[];for(let ee=0;ee<Ut.length;ee+=1)$e[ee]=io($s(t,Ut,ee));let Lt=ce(t[9]),xe=[];for(let ee=0;ee<Lt.length;ee+=1)xe[ee]=ao(Qs(t,Lt,ee));return{c(){e=p("div"),n=p("div"),l=p("div"),s=p("h2"),r=D(o),a=k(),c=p("button"),c.textContent="Ã—",f=k(),d=p("div"),h=p("div"),b=p("div"),m=p("label"),m.textContent="Priority (higher = checked first)",_=k(),g=p("input"),v=k(),y=p("h3"),y.textContent="Conditions (all must match)",w=k(),C=p("div"),L=p("div"),R=p("label"),R.textContent="Description contains",F=k(),O=p("input"),I=k(),S=p("div"),E=p("label"),E.textContent="Institution (exact)",z=k(),U=p("input"),K=k(),J=p("div"),X=p("div"),N=p("label"),N.textContent="Counterparty name contains",q=k(),W=p("input"),x=k(),te=p("div"),le=p("label"),le.textContent="Counterparty account (exact)",Q=k(),ne=p("input"),pe=k(),P=p("div"),M=p("div"),V=p("label"),V.textContent="Variable symbol (exact)",ue=k(),me=p("input"),_e=k(),$=p("div"),he=p("label"),he.textContent="Type contains",be=k(),Oe=p("input"),et=k(),Be=p("div"),Me=p("div"),Pe=p("label"),Pe.textContent="Amount min (CZK)",Je=k(),ke=p("input"),tt=k(),Ke=p("div"),Ae=p("label"),Ae.textContent="Amount max (CZK)",Ne=k(),ae=p("input"),Se=k(),bt=p("h3"),bt.textContent="Category Assignment",Tt=k(),it=p("div"),dt=p("div"),gt=p("label"),gt.textContent="Tier1 *",Le=k(),Ee=p("select"),Xe=p("option"),Xe.textContent="Select Tier1...";for(let ee=0;ee<Qe.length;ee+=1)Qe[ee].c();Ue=k(),Ye=p("div"),G=p("label"),G.textContent="Tier2 *",re=k(),fe=p("select"),ge=p("option"),ge.textContent="Select Tier2...";for(let ee=0;ee<$e.length;ee+=1)$e[ee].c();We=k(),Fe=p("div"),Z=p("label"),Z.textContent="Tier3 *",we=k(),se=p("select"),Ve=p("option"),Ve.textContent="Select Tier3...";for(let ee=0;ee<xe.length;ee+=1)xe[ee].c();Dn=k(),mn=p("div"),Nt=p("div"),$t=p("label"),$t.textContent="Owner (optional)",ul=k(),vt=p("input"),fl=k(),Ft=p("div"),xt=p("button"),xt.textContent="Cancel",dl=k(),en=p("button"),Un=D(bn),u(s,"class","svelte-1olv1ib"),u(c,"class","close-btn svelte-1olv1ib"),u(l,"class","modal-header svelte-1olv1ib"),u(m,"for","priority"),u(m,"class","svelte-1olv1ib"),u(g,"id","priority"),u(g,"type","number"),u(g,"min","0"),u(g,"max","1000"),u(g,"class","svelte-1olv1ib"),u(b,"class","form-group svelte-1olv1ib"),u(h,"class","form-row svelte-1olv1ib"),u(y,"class","svelte-1olv1ib"),u(R,"for","desc"),u(R,"class","svelte-1olv1ib"),u(O,"id","desc"),u(O,"type","text"),u(O,"placeholder","e.g., NETFLIX, Spotify"),u(O,"class","svelte-1olv1ib"),u(L,"class","form-group svelte-1olv1ib"),u(E,"for","inst"),u(E,"class","svelte-1olv1ib"),u(U,"id","inst"),u(U,"type","text"),u(U,"placeholder","e.g., ÄŒSOB, Wise"),u(U,"class","svelte-1olv1ib"),u(S,"class","form-group svelte-1olv1ib"),u(C,"class","form-row svelte-1olv1ib"),u(N,"for","cp-name"),u(N,"class","svelte-1olv1ib"),u(W,"id","cp-name"),u(W,"type","text"),u(W,"placeholder","e.g., Google, Amazon"),u(W,"class","svelte-1olv1ib"),u(X,"class","form-group svelte-1olv1ib"),u(le,"for","cp-account"),u(le,"class","svelte-1olv1ib"),u(ne,"id","cp-account"),u(ne,"type","text"),u(ne,"placeholder","e.g., 123456789/0300"),u(ne,"class","svelte-1olv1ib"),u(te,"class","form-group svelte-1olv1ib"),u(J,"class","form-row svelte-1olv1ib"),u(V,"for","vs"),u(V,"class","svelte-1olv1ib"),u(me,"id","vs"),u(me,"type","text"),u(me,"placeholder","e.g., 12345"),u(me,"class","svelte-1olv1ib"),u(M,"class","form-group svelte-1olv1ib"),u(he,"for","type"),u(he,"class","svelte-1olv1ib"),u(Oe,"id","type"),u(Oe,"type","text"),u(Oe,"placeholder","e.g., Ãšroky, PÅ™evod"),u(Oe,"class","svelte-1olv1ib"),u($,"class","form-group svelte-1olv1ib"),u(P,"class","form-row svelte-1olv1ib"),u(Pe,"for","amt-min"),u(Pe,"class","svelte-1olv1ib"),u(ke,"id","amt-min"),u(ke,"type","number"),u(ke,"placeholder","e.g., 0"),u(ke,"step","0.01"),u(ke,"class","svelte-1olv1ib"),u(Me,"class","form-group svelte-1olv1ib"),u(Ae,"for","amt-max"),u(Ae,"class","svelte-1olv1ib"),u(ae,"id","amt-max"),u(ae,"type","number"),u(ae,"placeholder","e.g., 1000"),u(ae,"step","0.01"),u(ae,"class","svelte-1olv1ib"),u(Ke,"class","form-group svelte-1olv1ib"),u(Be,"class","form-row svelte-1olv1ib"),u(bt,"class","svelte-1olv1ib"),u(gt,"for","tier1"),u(gt,"class","svelte-1olv1ib"),Xe.__value="",H(Xe,Xe.__value),u(Ee,"id","tier1"),Ee.required=!0,u(Ee,"class","svelte-1olv1ib"),t[1].tier1===void 0&&Ie(()=>t[32].call(Ee)),u(dt,"class","form-group svelte-1olv1ib"),u(G,"for","tier2"),u(G,"class","svelte-1olv1ib"),ge.__value="",H(ge,ge.__value),u(fe,"id","tier2"),fe.required=!0,fe.disabled=nt=!t[1].tier1,u(fe,"class","svelte-1olv1ib"),t[1].tier2===void 0&&Ie(()=>t[33].call(fe)),u(Ye,"class","form-group svelte-1olv1ib"),u(Z,"for","tier3"),u(Z,"class","svelte-1olv1ib"),Ve.__value="",H(Ve,Ve.__value),u(se,"id","tier3"),se.required=!0,se.disabled=Pt=!t[1].tier2,u(se,"class","svelte-1olv1ib"),t[1].tier3===void 0&&Ie(()=>t[34].call(se)),u(Fe,"class","form-group svelte-1olv1ib"),u(it,"class","form-row svelte-1olv1ib"),u($t,"for","owner"),u($t,"class","svelte-1olv1ib"),u(vt,"id","owner"),u(vt,"type","text"),u(vt,"placeholder","e.g., Branislav, Mirka"),u(vt,"class","svelte-1olv1ib"),u(Nt,"class","form-group svelte-1olv1ib"),u(mn,"class","form-row svelte-1olv1ib"),u(d,"class","modal-body svelte-1olv1ib"),u(xt,"class","btn btn-secondary svelte-1olv1ib"),u(en,"class","btn btn-primary svelte-1olv1ib"),u(Ft,"class","modal-footer svelte-1olv1ib"),u(n,"class","modal modal-large svelte-1olv1ib"),u(e,"class","modal-backdrop svelte-1olv1ib")},m(ee,je){A(ee,e,je),i(e,n),i(n,l),i(l,s),i(s,r),i(l,a),i(l,c),i(n,f),i(n,d),i(d,h),i(h,b),i(b,m),i(b,_),i(b,g),H(g,t[1].priority),i(d,v),i(d,y),i(d,w),i(d,C),i(C,L),i(L,R),i(L,F),i(L,O),H(O,t[1].description_contains),i(C,I),i(C,S),i(S,E),i(S,z),i(S,U),H(U,t[1].institution_exact),i(d,K),i(d,J),i(J,X),i(X,N),i(X,q),i(X,W),H(W,t[1].counterparty_name_contains),i(J,x),i(J,te),i(te,le),i(te,Q),i(te,ne),H(ne,t[1].counterparty_account_exact),i(d,pe),i(d,P),i(P,M),i(M,V),i(M,ue),i(M,me),H(me,t[1].variable_symbol_exact),i(P,_e),i(P,$),i($,he),i($,be),i($,Oe),H(Oe,t[1].type_contains),i(d,et),i(d,Be),i(Be,Me),i(Me,Pe),i(Me,Je),i(Me,ke),H(ke,t[1].amount_czk_min),i(Be,tt),i(Be,Ke),i(Ke,Ae),i(Ke,Ne),i(Ke,ae),H(ae,t[1].amount_czk_max),i(d,Se),i(d,bt),i(d,Tt),i(d,it),i(it,dt),i(dt,gt),i(dt,Le),i(dt,Ee),i(Ee,Xe);for(let oe=0;oe<Qe.length;oe+=1)Qe[oe]&&Qe[oe].m(Ee,null);Te(Ee,t[1].tier1,!0),i(it,Ue),i(it,Ye),i(Ye,G),i(Ye,re),i(Ye,fe),i(fe,ge);for(let oe=0;oe<$e.length;oe+=1)$e[oe]&&$e[oe].m(fe,null);Te(fe,t[1].tier2,!0),i(it,We),i(it,Fe),i(Fe,Z),i(Fe,we),i(Fe,se),i(se,Ve);for(let oe=0;oe<xe.length;oe+=1)xe[oe]&&xe[oe].m(se,null);Te(se,t[1].tier3,!0),i(d,Dn),i(d,mn),i(mn,Nt),i(Nt,$t),i(Nt,ul),i(Nt,vt),H(vt,t[1].owner),i(n,fl),i(n,Ft),i(Ft,xt),i(Ft,dl),i(Ft,en),i(en,Un),Ln||(pl=[B(c,"click",t[13]),B(g,"input",t[23]),B(O,"input",t[24]),B(U,"input",t[25]),B(W,"input",t[26]),B(ne,"input",t[27]),B(me,"input",t[28]),B(Oe,"input",t[29]),B(ke,"input",t[30]),B(ae,"input",t[31]),B(Ee,"change",t[32]),B(Ee,"change",t[16]),B(fe,"change",t[33]),B(fe,"change",t[17]),B(se,"change",t[34]),B(vt,"input",t[35]),B(xt,"click",t[13]),B(en,"click",t[14]),B(n,"click",Ro(t[19])),B(e,"click",t[13])],Ln=!0)},p(ee,je){if(je[0]&128&&o!==(o=ee[7]?"Edit Rule":"Add New Rule")&&Y(r,o),je[0]&3&&st(g.value)!==ee[1].priority&&H(g,ee[1].priority),je[0]&3&&O.value!==ee[1].description_contains&&H(O,ee[1].description_contains),je[0]&3&&U.value!==ee[1].institution_exact&&H(U,ee[1].institution_exact),je[0]&3&&W.value!==ee[1].counterparty_name_contains&&H(W,ee[1].counterparty_name_contains),je[0]&3&&ne.value!==ee[1].counterparty_account_exact&&H(ne,ee[1].counterparty_account_exact),je[0]&3&&me.value!==ee[1].variable_symbol_exact&&H(me,ee[1].variable_symbol_exact),je[0]&3&&Oe.value!==ee[1].type_contains&&H(Oe,ee[1].type_contains),je[0]&3&&st(ke.value)!==ee[1].amount_czk_min&&H(ke,ee[1].amount_czk_min),je[0]&3&&st(ae.value)!==ee[1].amount_czk_max&&H(ae,ee[1].amount_czk_max),je[0]&1){Dt=ce(ee[0]);let oe;for(oe=0;oe<Dt.length;oe+=1){const wt=xs(ee,Dt,oe);Qe[oe]?Qe[oe].p(wt,je):(Qe[oe]=ro(wt),Qe[oe].c(),Qe[oe].m(Ee,null))}for(;oe<Qe.length;oe+=1)Qe[oe].d(1);Qe.length=Dt.length}if(je[0]&3&&Te(Ee,ee[1].tier1),je[0]&1024){Ut=ce(ee[10]);let oe;for(oe=0;oe<Ut.length;oe+=1){const wt=$s(ee,Ut,oe);$e[oe]?$e[oe].p(wt,je):($e[oe]=io(wt),$e[oe].c(),$e[oe].m(fe,null))}for(;oe<$e.length;oe+=1)$e[oe].d(1);$e.length=Ut.length}if(je[0]&3&&nt!==(nt=!ee[1].tier1)&&(fe.disabled=nt),je[0]&3&&Te(fe,ee[1].tier2),je[0]&512){Lt=ce(ee[9]);let oe;for(oe=0;oe<Lt.length;oe+=1){const wt=Qs(ee,Lt,oe);xe[oe]?xe[oe].p(wt,je):(xe[oe]=ao(wt),xe[oe].c(),xe[oe].m(se,null))}for(;oe<xe.length;oe+=1)xe[oe].d(1);xe.length=Lt.length}je[0]&3&&Pt!==(Pt=!ee[1].tier2)&&(se.disabled=Pt),je[0]&3&&Te(se,ee[1].tier3),je[0]&3&&vt.value!==ee[1].owner&&H(vt,ee[1].owner),je[0]&128&&bn!==(bn=ee[7]?"Update Rule":"Create Rule")&&Y(Un,bn)},d(ee){ee&&j(e),ze(Qe,ee),ze($e,ee),ze(xe,ee),Ln=!1,Re(pl)}}}function ro(t){let e,n=t[45].tier1+"",l,s;return{c(){e=p("option"),l=D(n),e.__value=s=t[45].tier1,H(e,e.__value)},m(o,r){A(o,e,r),i(e,l)},p(o,r){r[0]&1&&n!==(n=o[45].tier1+"")&&Y(l,n),r[0]&1&&s!==(s=o[45].tier1)&&(e.__value=s,H(e,e.__value))},d(o){o&&j(e)}}}function io(t){let e,n=t[42].tier2+"",l,s;return{c(){e=p("option"),l=D(n),e.__value=s=t[42].tier2,H(e,e.__value)},m(o,r){A(o,e,r),i(e,l)},p(o,r){r[0]&1024&&n!==(n=o[42].tier2+"")&&Y(l,n),r[0]&1024&&s!==(s=o[42].tier2)&&(e.__value=s,H(e,e.__value))},d(o){o&&j(e)}}}function ao(t){let e,n=t[39]+"",l,s;return{c(){e=p("option"),l=D(n),e.__value=s=t[39],H(e,e.__value)},m(o,r){A(o,e,r),i(e,l)},p(o,r){r[0]&512&&n!==(n=o[39]+"")&&Y(l,n),r[0]&512&&s!==(s=o[39])&&(e.__value=s,H(e,e.__value))},d(o){o&&j(e)}}}function Nc(t){let e,n,l,s,o,r,a,c,f,d,h,b,m=t[8].length+"",_,g,v,y,w,C,L,R=t[4]&&to(t),F=t[5]&&no(t);function O(z,U){return z[3]?Pc:zc}let I=O(t),S=I(t),E=t[6]&&oo(t);return{c(){e=p("div"),n=p("div"),l=p("h1"),l.textContent="Categorization Rules",s=k(),o=p("button"),o.textContent="+ Add Rule",r=k(),R&&R.c(),a=k(),F&&F.c(),c=k(),f=p("div"),d=p("input"),h=k(),b=p("span"),_=D(m),g=D(" rules"),v=k(),S.c(),y=k(),E&&E.c(),w=ft(),u(l,"class","svelte-1olv1ib"),u(o,"class","btn btn-primary svelte-1olv1ib"),u(n,"class","header svelte-1olv1ib"),u(d,"type","text"),u(d,"class","filter-input svelte-1olv1ib"),u(d,"placeholder","ðŸ” Filter rules..."),u(b,"class","result-count svelte-1olv1ib"),u(f,"class","filter-section svelte-1olv1ib"),u(e,"class","rules-container svelte-1olv1ib")},m(z,U){A(z,e,U),i(e,n),i(n,l),i(n,s),i(n,o),i(e,r),R&&R.m(e,null),i(e,a),F&&F.m(e,null),i(e,c),i(e,f),i(f,d),H(d,t[2]),i(f,h),i(f,b),i(b,_),i(b,g),i(e,v),S.m(e,null),A(z,y,U),E&&E.m(z,U),A(z,w,U),C||(L=[B(o,"click",t[11]),B(d,"input",t[20])],C=!0)},p(z,U){z[4]?R?R.p(z,U):(R=to(z),R.c(),R.m(e,a)):R&&(R.d(1),R=null),z[5]?F?F.p(z,U):(F=no(z),F.c(),F.m(e,c)):F&&(F.d(1),F=null),U[0]&4&&d.value!==z[2]&&H(d,z[2]),U[0]&256&&m!==(m=z[8].length+"")&&Y(_,m),I===(I=O(z))&&S?S.p(z,U):(S.d(1),S=I(z),S&&(S.c(),S.m(e,null))),z[6]?E?E.p(z,U):(E=oo(z),E.c(),E.m(w.parentNode,w)):E&&(E.d(1),E=null)},i:ie,o:ie,d(z){z&&(j(e),j(y),j(w)),R&&R.d(),F&&F.d(),S.d(),E&&E.d(z),C=!1,Re(L)}}}function Zn(){return{priority:100,description_contains:"",institution_exact:"",counterparty_account_exact:"",counterparty_name_contains:"",variable_symbol_exact:"",type_contains:"",amount_czk_min:null,amount_czk_max:null,tier1:"",tier2:"",tier3:"",owner:""}}function co(t){const e=[];return t.description_contains&&e.push(`Description contains "${t.description_contains}"`),t.institution_exact&&e.push(`Institution = "${t.institution_exact}"`),t.counterparty_account_exact&&e.push(`Account = "${t.counterparty_account_exact}"`),t.counterparty_name_contains&&e.push(`Name contains "${t.counterparty_name_contains}"`),t.variable_symbol_exact&&e.push(`VS = "${t.variable_symbol_exact}"`),t.type_contains&&e.push(`Type contains "${t.type_contains}"`),(t.amount_czk_min!==null||t.amount_czk_max!==null)&&(t.amount_czk_min!==null&&t.amount_czk_max!==null?e.push(`Amount: ${t.amount_czk_min} - ${t.amount_czk_max} CZK`):t.amount_czk_min!==null?e.push(`Amount >= ${t.amount_czk_min} CZK`):e.push(`Amount <= ${t.amount_czk_max} CZK`)),e.length>0?e.join(" AND "):"No conditions"}function Fc(t,e,n){let l,s,o,r=[],a=[],c=!0,f=null,d=null,h=!1,b=null,m=Zn(),_="";zt(async()=>{await Promise.all([g(),v()])});async function g(){var P;try{n(3,c=!0),n(4,f=null);const M=await ve.get("/rules");console.log("Rules API response:",M),console.log("Rules data:",M.data),console.log("Rules count:",(P=M.data)==null?void 0:P.length),n(18,r=M.data)}catch(M){console.error("Error loading rules:",M),n(4,f=`Failed to load rules: ${M.message}`)}finally{n(3,c=!1)}}async function v(){try{const P=await ve.get("/categories/tree");n(0,a=P.data),console.log("Category tree loaded:",a),console.log("Total tier1 categories:",a.length)}catch(P){console.error("Failed to load categories:",P)}}function y(){n(7,b=null),n(1,m=Zn()),n(6,h=!0)}function w(P){n(7,b=P),n(1,m={...P}),n(6,h=!0)}function C(){n(6,h=!1),n(7,b=null),n(1,m=Zn()),n(4,f=null)}async function L(){var P,M;try{if(n(4,f=null),n(5,d=null),!m.tier1||!m.tier2||!m.tier3){n(4,f="Please select all category tiers");return}b?(await ve.put(`/rules/${b.id}`,m),n(5,d="Rule updated successfully")):(await ve.post("/rules",m),n(5,d="Rule created successfully")),C(),await g()}catch(V){n(4,f=((M=(P=V.response)==null?void 0:P.data)==null?void 0:M.detail)||V.message)}}async function R(P){var M,V;if(confirm("Delete this rule?"))try{n(4,f=null),n(5,d=null),await ve.delete(`/rules/${P}`),n(5,d="Rule deleted successfully"),await g()}catch(ue){n(4,f=((V=(M=ue.response)==null?void 0:M.data)==null?void 0:V.detail)||ue.message)}}function F(){n(1,m.tier2="",m),n(1,m.tier3="",m)}function O(){n(1,m.tier3="",m)}function I(P){Ao.call(this,t,P)}function S(){_=this.value,n(2,_)}const E=P=>w(P),z=P=>R(P.id);function U(){m.priority=st(this.value),n(1,m),n(0,a)}function K(){m.description_contains=this.value,n(1,m),n(0,a)}function J(){m.institution_exact=this.value,n(1,m),n(0,a)}function X(){m.counterparty_name_contains=this.value,n(1,m),n(0,a)}function N(){m.counterparty_account_exact=this.value,n(1,m),n(0,a)}function q(){m.variable_symbol_exact=this.value,n(1,m),n(0,a)}function W(){m.type_contains=this.value,n(1,m),n(0,a)}function x(){m.amount_czk_min=st(this.value),n(1,m),n(0,a)}function te(){m.amount_czk_max=st(this.value),n(1,m),n(0,a)}function le(){m.tier1=at(this),n(1,m),n(0,a)}function Q(){m.tier2=at(this),n(1,m),n(0,a)}function ne(){m.tier3=at(this),n(1,m),n(0,a)}function pe(){m.owner=this.value,n(1,m),n(0,a)}return t.$$.update=()=>{t.$$.dirty[0]&3&&n(10,l=(()=>{if(console.log("Computing tier2Options, tier1:",m.tier1),!m.tier1)return[];const P=a.find(V=>V.tier1===m.tier1);console.log("Found tier1Cat:",P);const M=P?P.tier2_categories:[];return console.log("Tier2 options:",M),M})()),t.$$.dirty[0]&3&&n(9,s=(()=>{if(console.log("Computing tier3Options, tier1:",m.tier1,"tier2:",m.tier2),!m.tier1||!m.tier2)return[];const P=a.find(ue=>ue.tier1===m.tier1);if(!P)return[];const M=P.tier2_categories.find(ue=>ue.tier2===m.tier2);console.log("Found tier2Cat:",M);const V=M?M.tier3:[];return console.log("Tier3 options:",V),V})()),t.$$.dirty[0]&262148&&n(8,o=(()=>{if(!_)return r;const P=_.toLowerCase();return r.filter(M=>{var V,ue,me,_e,$,he;return((V=M.description_contains)==null?void 0:V.toLowerCase().includes(P))||((ue=M.institution_exact)==null?void 0:ue.toLowerCase().includes(P))||((me=M.counterparty_name_contains)==null?void 0:me.toLowerCase().includes(P))||((_e=M.tier1)==null?void 0:_e.toLowerCase().includes(P))||(($=M.tier2)==null?void 0:$.toLowerCase().includes(P))||((he=M.tier3)==null?void 0:he.toLowerCase().includes(P))})})())},[a,m,_,c,f,d,h,b,o,s,l,y,w,C,L,R,F,O,r,I,S,E,z,U,K,J,X,N,q,W,x,te,le,Q,ne,pe]}class Dc extends ht{constructor(e){super(),_t(this,e,Fc,Nc,ut,{},null,[-1,-1])}}function uo(t,e,n){const l=t.slice();return l[34]=e[n],l[35]=e,l[36]=n,l}function fo(t,e,n){const l=t.slice();return l[37]=e[n],l}function po(t,e,n){const l=t.slice();return l[30]=e[n][0],l[31]=e[n][1],l[32]=e,l[33]=n,l}function Uc(t){let e,n,l,s,o,r,a,c,f,d,h,b;function m(y,w){if(y[3]==="app")return qc;if(y[3]==="currency")return Mc;if(y[3]==="institutions")return Bc}let _=m(t),g=_&&_(t),v=t[2]&&bo();return{c(){e=p("div"),n=p("button"),n.textContent="Application",l=k(),s=p("button"),s.textContent="Currency",o=k(),r=p("button"),r.textContent="Institutions",a=k(),c=p("div"),g&&g.c(),f=k(),v&&v.c(),d=ft(),u(n,"class","tab svelte-1boa5dj"),ct(n,"active",t[3]==="app"),u(s,"class","tab svelte-1boa5dj"),ct(s,"active",t[3]==="currency"),u(r,"class","tab svelte-1boa5dj"),ct(r,"active",t[3]==="institutions"),u(e,"class","tabs svelte-1boa5dj"),u(c,"class","tab-content svelte-1boa5dj")},m(y,w){A(y,e,w),i(e,n),i(e,l),i(e,s),i(e,o),i(e,r),A(y,a,w),A(y,c,w),g&&g.m(c,null),A(y,f,w),v&&v.m(y,w),A(y,d,w),h||(b=[B(n,"click",t[14]),B(s,"click",t[15]),B(r,"click",t[16])],h=!0)},p(y,w){w[0]&8&&ct(n,"active",y[3]==="app"),w[0]&8&&ct(s,"active",y[3]==="currency"),w[0]&8&&ct(r,"active",y[3]==="institutions"),_===(_=m(y))&&g?g.p(y,w):(g&&g.d(1),g=_&&_(y),g&&(g.c(),g.m(c,null))),y[2]?v||(v=bo(),v.c(),v.m(d.parentNode,d)):v&&(v.d(1),v=null)},d(y){y&&(j(e),j(a),j(c),j(f),j(d)),g&&g.d(),v&&v.d(y),h=!1,Re(b)}}}function Lc(t){let e,n,l;return{c(){e=p("p"),n=D("Error: "),l=D(t[1]),u(e,"class","error svelte-1boa5dj")},m(s,o){A(s,e,o),i(e,n),i(e,l)},p(s,o){o[0]&2&&Y(l,s[1])},d(s){s&&j(e)}}}function Ic(t){let e;return{c(){e=p("p"),e.textContent="Loading settings..."},m(n,l){A(n,e,l)},p:ie,d(n){n&&j(e)}}}function Bc(t){let e,n,l,s,o,r,a,c,f,d=ce(t[6]),h=[];for(let g=0;g<d.length;g+=1)h[g]=_o(fo(t,d,g));function b(g,v){return g[7]?Jc:Hc}let m=b(t),_=m(t);return{c(){e=p("div"),n=p("h2"),n.textContent="Institution Configurations",l=k(),s=p("div"),o=p("div"),r=p("h3"),r.textContent="Institutions",a=k();for(let g=0;g<h.length;g+=1)h[g].c();c=k(),f=p("div"),_.c(),u(n,"class","svelte-1boa5dj"),u(r,"class","svelte-1boa5dj"),u(o,"class","institution-list svelte-1boa5dj"),u(f,"class","institution-details svelte-1boa5dj"),u(s,"class","institutions-layout svelte-1boa5dj"),u(e,"class","settings-section svelte-1boa5dj")},m(g,v){A(g,e,v),i(e,n),i(e,l),i(e,s),i(s,o),i(o,r),i(o,a);for(let y=0;y<h.length;y+=1)h[y]&&h[y].m(o,null);i(s,c),i(s,f),_.m(f,null)},p(g,v){if(v[0]&2240){d=ce(g[6]);let y;for(y=0;y<d.length;y+=1){const w=fo(g,d,y);h[y]?h[y].p(w,v):(h[y]=_o(w),h[y].c(),h[y].m(o,null))}for(;y<h.length;y+=1)h[y].d(1);h.length=d.length}m===(m=b(g))&&_?_.p(g,v):(_.d(1),_=m(g),_&&(_.c(),_.m(f,null)))},d(g){g&&j(e),ze(h,g),_.d()}}}function Mc(t){let e,n,l,s,o,r,a,c,f,d,h,b,m,_,g,v,y,w,C,L,R,F,O,I,S,E,z,U=ce(Object.entries(t[5].rates)),K=[];for(let J=0;J<U.length;J+=1)K[J]=mo(po(t,U,J));return{c(){e=p("div"),n=p("h2"),n.textContent="Currency Settings",l=k(),s=p("div"),o=p("label"),o.textContent="Base Currency",r=k(),a=p("select"),c=p("option"),c.textContent="CZK",f=p("option"),f.textContent="EUR",d=p("option"),d.textContent="USD",h=p("option"),h.textContent="GBP",b=k(),m=p("div"),_=p("label"),g=p("input"),v=D(`
              Use CNB API for real-time exchange rates`),y=k(),w=p("p"),w.textContent="When disabled, uses static rates below",C=k(),L=p("h3"),L.textContent="Exchange Rates (Fallback)",R=k(),F=p("p"),F.textContent="These rates are used when CNB API is disabled or fails",O=k();for(let J=0;J<K.length;J+=1)K[J].c();I=k(),S=p("button"),S.textContent="Save Currency Settings",u(n,"class","svelte-1boa5dj"),u(o,"class","svelte-1boa5dj"),c.__value="CZK",H(c,c.__value),f.__value="EUR",H(f,f.__value),d.__value="USD",H(d,d.__value),h.__value="GBP",H(h,h.__value),u(a,"class","svelte-1boa5dj"),t[5].base_currency===void 0&&Ie(()=>t[21].call(a)),u(s,"class","form-group svelte-1boa5dj"),u(g,"type","checkbox"),u(g,"class","svelte-1boa5dj"),u(_,"class","checkbox-label svelte-1boa5dj"),u(w,"class","hint svelte-1boa5dj"),u(m,"class","form-group svelte-1boa5dj"),u(L,"class","svelte-1boa5dj"),u(F,"class","hint svelte-1boa5dj"),u(S,"class","btn btn-primary svelte-1boa5dj"),u(e,"class","settings-section svelte-1boa5dj")},m(J,X){A(J,e,X),i(e,n),i(e,l),i(e,s),i(s,o),i(s,r),i(s,a),i(a,c),i(a,f),i(a,d),i(a,h),Te(a,t[5].base_currency,!0),i(e,b),i(e,m),i(m,_),i(_,g),g.checked=t[5].use_cnb_api,i(_,v),i(m,y),i(m,w),i(e,C),i(e,L),i(e,R),i(e,F),i(e,O);for(let N=0;N<K.length;N+=1)K[N]&&K[N].m(e,null);i(e,I),i(e,S),E||(z=[B(a,"change",t[21]),B(g,"change",t[22]),B(S,"click",t[9])],E=!0)},p(J,X){if(X[0]&32&&Te(a,J[5].base_currency),X[0]&32&&(g.checked=J[5].use_cnb_api),X[0]&32){U=ce(Object.entries(J[5].rates));let N;for(N=0;N<U.length;N+=1){const q=po(J,U,N);K[N]?K[N].p(q,X):(K[N]=mo(q),K[N].c(),K[N].m(e,I))}for(;N<K.length;N+=1)K[N].d(1);K.length=U.length}},d(J){J&&j(e),ze(K,J),E=!1,Re(z)}}}function qc(t){let e,n,l,s,o,r,a,c,f,d,h,b,m,_,g,v,y,w,C,L,R,F,O,I,S,E,z,U,K,J,X,N,q,W;return{c(){e=p("div"),n=p("h2"),n.textContent="Application Settings",l=k(),s=p("div"),o=p("label"),o.textContent="Google Drive Folder ID",r=k(),a=p("input"),c=k(),f=p("p"),f.textContent="Find this in your Google Drive folder URL",d=k(),h=p("div"),b=p("label"),b.textContent="Google Sheets Master Sheet ID",m=k(),_=p("input"),g=k(),v=p("p"),v.textContent="Find this in your Google Sheets URL",y=k(),w=p("div"),C=p("label"),C.textContent="Transactions Tab Name",L=k(),R=p("input"),F=k(),O=p("div"),I=p("label"),I.textContent="Timezone",S=k(),E=p("select"),z=p("option"),z.textContent="Europe/Prague",U=p("option"),U.textContent="Europe/London",K=p("option"),K.textContent="America/New_York",J=p("option"),J.textContent="UTC",X=k(),N=p("button"),N.textContent="Save Application Settings",u(n,"class","svelte-1boa5dj"),u(o,"class","svelte-1boa5dj"),u(a,"type","text"),u(a,"placeholder","e.g., 1CrtDt9JR9pNrE4I9HKxjnVxrb9Eh9E5b"),u(a,"class","svelte-1boa5dj"),u(f,"class","hint svelte-1boa5dj"),u(s,"class","form-group svelte-1boa5dj"),u(b,"class","svelte-1boa5dj"),u(_,"type","text"),u(_,"placeholder","e.g., 10H6uDqvYs2iBpwBDxH-zEfSrSMAq6J5JbjKVR5NkG_w"),u(_,"class","svelte-1boa5dj"),u(v,"class","hint svelte-1boa5dj"),u(h,"class","form-group svelte-1boa5dj"),u(C,"class","svelte-1boa5dj"),u(R,"type","text"),u(R,"placeholder","e.g., Transactions"),u(R,"class","svelte-1boa5dj"),u(w,"class","form-group svelte-1boa5dj"),u(I,"class","svelte-1boa5dj"),z.__value="Europe/Prague",H(z,z.__value),U.__value="Europe/London",H(U,U.__value),K.__value="America/New_York",H(K,K.__value),J.__value="UTC",H(J,J.__value),u(E,"class","svelte-1boa5dj"),t[4].processing.timezone===void 0&&Ie(()=>t[20].call(E)),u(O,"class","form-group svelte-1boa5dj"),u(N,"class","btn btn-primary svelte-1boa5dj"),u(e,"class","settings-section svelte-1boa5dj")},m(x,te){A(x,e,te),i(e,n),i(e,l),i(e,s),i(s,o),i(s,r),i(s,a),H(a,t[4].google_drive.input_folder_id),i(s,c),i(s,f),i(e,d),i(e,h),i(h,b),i(h,m),i(h,_),H(_,t[4].google_sheets.master_sheet_id),i(h,g),i(h,v),i(e,y),i(e,w),i(w,C),i(w,L),i(w,R),H(R,t[4].google_sheets.transactions_tab),i(e,F),i(e,O),i(O,I),i(O,S),i(O,E),i(E,z),i(E,U),i(E,K),i(E,J),Te(E,t[4].processing.timezone,!0),i(e,X),i(e,N),q||(W=[B(a,"input",t[17]),B(_,"input",t[18]),B(R,"input",t[19]),B(E,"change",t[20]),B(N,"click",t[9])],q=!0)},p(x,te){te[0]&16&&a.value!==x[4].google_drive.input_folder_id&&H(a,x[4].google_drive.input_folder_id),te[0]&16&&_.value!==x[4].google_sheets.master_sheet_id&&H(_,x[4].google_sheets.master_sheet_id),te[0]&16&&R.value!==x[4].google_sheets.transactions_tab&&H(R,x[4].google_sheets.transactions_tab),te[0]&16&&Te(E,x[4].processing.timezone)},d(x){x&&j(e),q=!1,Re(W)}}}function _o(t){let e,n,l=t[37].name+"",s,o,r,a=t[37].type+"",c,f,d=t[37].country+"",h,b,m,_;function g(){return t[24](t[37])}return{c(){var v;e=p("div"),n=p("div"),s=D(l),o=k(),r=p("div"),c=D(a),f=D(" â€¢ "),h=D(d),b=k(),u(n,"class","institution-name svelte-1boa5dj"),u(r,"class","institution-meta svelte-1boa5dj"),u(e,"class","institution-item svelte-1boa5dj"),ct(e,"selected",((v=t[7])==null?void 0:v.id)===t[37].id)},m(v,y){A(v,e,y),i(e,n),i(n,s),i(e,o),i(e,r),i(r,c),i(r,f),i(r,h),i(e,b),m||(_=B(e,"click",g),m=!0)},p(v,y){var w;t=v,y[0]&64&&l!==(l=t[37].name+"")&&Y(s,l),y[0]&64&&a!==(a=t[37].type+"")&&Y(c,a),y[0]&64&&d!==(d=t[37].country+"")&&Y(h,d),y[0]&192&&ct(e,"selected",((w=t[7])==null?void 0:w.id)===t[37].id)},d(v){v&&j(e),m=!1,_()}}}function Hc(t){let e;return{c(){e=p("p"),e.textContent="Select an institution to configure owner mappings",u(e,"class","placeholder svelte-1boa5dj")},m(n,l){A(n,e,l)},p:ie,d(n){n&&j(e)}}}function Jc(t){let e,n=t[7].name+"",l,s,o,r,a,c,f,d,h,b,m,_,g=ce(t[8]),v=[];for(let y=0;y<g.length;y+=1)v[y]=ho(uo(t,g,y));return{c(){e=p("h3"),l=D(n),s=D(" - Owner Mappings"),o=k(),r=p("p"),r.textContent="Map account numbers to owners",a=k(),c=p("div");for(let y=0;y<v.length;y+=1)v[y].c();f=k(),d=p("button"),d.textContent="+ Add Mapping",h=k(),b=p("button"),b.textContent="Save Owner Mappings",u(e,"class","svelte-1boa5dj"),u(r,"class","hint svelte-1boa5dj"),u(d,"class","btn btn-small svelte-1boa5dj"),u(c,"class","owner-mappings svelte-1boa5dj"),u(b,"class","btn btn-primary svelte-1boa5dj")},m(y,w){A(y,e,w),i(e,l),i(e,s),A(y,o,w),A(y,r,w),A(y,a,w),A(y,c,w);for(let C=0;C<v.length;C+=1)v[C]&&v[C].m(c,null);i(c,f),i(c,d),A(y,h,w),A(y,b,w),m||(_=[B(d,"click",t[12]),B(b,"click",t[28])],m=!0)},p(y,w){if(w[0]&128&&n!==(n=y[7].name+"")&&Y(l,n),w[0]&8448){g=ce(y[8]);let C;for(C=0;C<g.length;C+=1){const L=uo(y,g,C);v[C]?v[C].p(L,w):(v[C]=ho(L),v[C].c(),v[C].m(c,f))}for(;C<v.length;C+=1)v[C].d(1);v.length=g.length}},d(y){y&&(j(e),j(o),j(r),j(a),j(c),j(h),j(b)),ze(v,y),m=!1,Re(_)}}}function ho(t){let e,n,l,s,o,r,a,c,f,d;function h(){t[25].call(n,t[35],t[36])}function b(){t[26].call(r,t[35],t[36])}function m(){return t[27](t[36])}return{c(){e=p("div"),n=p("input"),l=k(),s=p("span"),s.textContent="â†’",o=k(),r=p("input"),a=k(),c=p("button"),c.textContent="âœ•",u(n,"type","text"),u(n,"placeholder","Account number"),u(n,"class","account-input svelte-1boa5dj"),u(r,"type","text"),u(r,"placeholder","Owner name"),u(r,"class","owner-input svelte-1boa5dj"),u(c,"class","btn-icon svelte-1boa5dj"),u(c,"title","Remove mapping"),u(e,"class","mapping-row svelte-1boa5dj")},m(_,g){A(_,e,g),i(e,n),H(n,t[34].account),i(e,l),i(e,s),i(e,o),i(e,r),H(r,t[34].owner),i(e,a),i(e,c),f||(d=[B(n,"input",h),B(r,"input",b),B(c,"click",m)],f=!0)},p(_,g){t=_,g[0]&256&&n.value!==t[34].account&&H(n,t[34].account),g[0]&256&&r.value!==t[34].owner&&H(r,t[34].owner)},d(_){_&&j(e),f=!1,Re(d)}}}function mo(t){let e,n,l=t[30]+"",s,o,r,a,c,f;function d(){t[23].call(a,t[30])}return{c(){e=p("div"),n=p("label"),s=D(l),o=D(":"),r=k(),a=p("input"),u(n,"class","svelte-1boa5dj"),u(a,"type","number"),u(a,"step","0.01"),pt(a,"width","150px"),u(a,"class","svelte-1boa5dj"),u(e,"class","form-group inline svelte-1boa5dj")},m(h,b){A(h,e,b),i(e,n),i(n,s),i(n,o),i(e,r),i(e,a),H(a,t[5].rates[t[30]]),c||(f=B(a,"input",d),c=!0)},p(h,b){t=h,b[0]&32&&l!==(l=t[30]+"")&&Y(s,l),b[0]&32&&st(a.value)!==t[5].rates[t[30]]&&H(a,t[5].rates[t[30]])},d(h){h&&j(e),c=!1,f()}}}function bo(t){let e;return{c(){e=p("div"),e.textContent="âœ“ Settings saved successfully!",u(e,"class","success-message svelte-1boa5dj")},m(n,l){A(n,e,l)},d(n){n&&j(e)}}}function Kc(t){let e,n,l;function s(a,c){return a[0]?Ic:a[1]?Lc:Uc}let o=s(t),r=o(t);return{c(){e=p("div"),n=p("h1"),n.textContent="Settings",l=k(),r.c(),u(n,"class","svelte-1boa5dj"),u(e,"class","settings svelte-1boa5dj")},m(a,c){A(a,e,c),i(e,n),i(e,l),r.m(e,null)},p(a,c){o===(o=s(a))&&r?r.p(a,c):(r.d(1),r=o(a),r&&(r.c(),r.m(e,null)))},i:ie,o:ie,d(a){a&&j(e),r.d()}}}function Wc(t,e,n){let l=!0,s=null,o=!1,r="app",a={google_drive:{input_folder_id:""},google_sheets:{master_sheet_id:"",transactions_tab:""},processing:{timezone:""}},c={base_currency:"CZK",use_cnb_api:!0,supported:[],rates:{}},f=[],d=null,h=[];zt(async()=>{await b()});async function b(){try{n(0,l=!0),n(1,s=null);const q=await fetch("/api/v1/settings/app");if(!q.ok)throw new Error("Failed to load app settings");const W=await q.json();n(4,a=W),n(5,c=W.currency);const x=await fetch("/api/v1/settings/institutions");if(!x.ok)throw new Error("Failed to load institutions");const te=await x.json();n(6,f=te.institutions),n(0,l=!1)}catch(q){n(1,s=q.message),n(0,l=!1)}}async function m(){try{if(!(await fetch("/api/v1/settings/app",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({google_drive:a.google_drive,google_sheets:a.google_sheets,processing:a.processing,currency:c})})).ok)throw new Error("Failed to save settings");n(2,o=!0),setTimeout(()=>n(2,o=!1),3e3)}catch(q){n(1,s=q.message)}}async function _(q){try{const W={};if(h.forEach(({account:te,owner:le})=>{te&&te.trim()&&(W[te.trim()]=le.trim())}),!(await fetch(`/api/v1/settings/institutions/${q}/owners`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)})).ok)throw new Error("Failed to save owner mappings");n(2,o=!0),setTimeout(()=>n(2,o=!1),3e3),await b()}catch(W){n(1,s=W.message)}}function g(q){n(7,d=q),n(8,h=Object.entries(q.owner_mappings||{}).map(([W,x])=>({account:W,owner:x})))}function v(){n(8,h=[...h,{account:"",owner:""}])}function y(q){n(8,h=h.filter((W,x)=>x!==q))}const w=()=>n(3,r="app"),C=()=>n(3,r="currency"),L=()=>n(3,r="institutions");function R(){a.google_drive.input_folder_id=this.value,n(4,a)}function F(){a.google_sheets.master_sheet_id=this.value,n(4,a)}function O(){a.google_sheets.transactions_tab=this.value,n(4,a)}function I(){a.processing.timezone=at(this),n(4,a)}function S(){c.base_currency=at(this),n(5,c)}function E(){c.use_cnb_api=this.checked,n(5,c)}function z(q){c.rates[q]=st(this.value),n(5,c)}const U=q=>g(q);function K(q,W){q[W].account=this.value,n(8,h)}function J(q,W){q[W].owner=this.value,n(8,h)}return[l,s,o,r,a,c,f,d,h,m,_,g,v,y,w,C,L,R,F,O,I,S,E,z,U,K,J,q=>y(q),()=>_(d.id)]}class Vc extends ht{constructor(e){super(),_t(this,e,Wc,Kc,ut,{},null,[-1,-1])}}function Zc(t){let e,n,l,s,o,r,a,c,f,d,h,b;return e=new Mt({props:{path:"/",component:tc}}),l=new Mt({props:{path:"/transactions",component:dc}}),o=new Mt({props:{path:"/upload",component:kc}}),a=new Mt({props:{path:"/categories",component:Ac}}),f=new Mt({props:{path:"/rules",component:Dc}}),h=new Mt({props:{path:"/settings",component:Vc}}),{c(){Ze(e.$$.fragment),n=k(),Ze(l.$$.fragment),s=k(),Ze(o.$$.fragment),r=k(),Ze(a.$$.fragment),c=k(),Ze(f.$$.fragment),d=k(),Ze(h.$$.fragment)},m(m,_){qe(e,m,_),A(m,n,_),qe(l,m,_),A(m,s,_),qe(o,m,_),A(m,r,_),qe(a,m,_),A(m,c,_),qe(f,m,_),A(m,d,_),qe(h,m,_),b=!0},p:ie,i(m){b||(ye(e.$$.fragment,m),ye(l.$$.fragment,m),ye(o.$$.fragment,m),ye(a.$$.fragment,m),ye(f.$$.fragment,m),ye(h.$$.fragment,m),b=!0)},o(m){Ce(e.$$.fragment,m),Ce(l.$$.fragment,m),Ce(o.$$.fragment,m),Ce(a.$$.fragment,m),Ce(f.$$.fragment,m),Ce(h.$$.fragment,m),b=!1},d(m){m&&(j(n),j(s),j(r),j(c),j(d)),He(e,m),He(l,m),He(o,m),He(a,m),He(f,m),He(h,m)}}}function Gc(t){let e,n;return e=new pi({props:{$$slots:{default:[Zc]},$$scope:{ctx:t}}}),{c(){Ze(e.$$.fragment)},m(l,s){qe(e,l,s),n=!0},p(l,s){const o={};s&2&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){n||(ye(e.$$.fragment,l),n=!0)},o(l){Ce(e.$$.fragment,l),n=!1},d(l){He(e,l)}}}function Xc(t){let e,n;return e=new si({props:{url:t[0],$$slots:{default:[Gc]},$$scope:{ctx:t}}}),{c(){Ze(e.$$.fragment)},m(l,s){qe(e,l,s),n=!0},p(l,[s]){const o={};s&1&&(o.url=l[0]),s&2&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){n||(ye(e.$$.fragment,l),n=!0)},o(l){Ce(e.$$.fragment,l),n=!1},d(l){He(e,l)}}}function Yc(t,e,n){let{url:l=""}=e;return t.$$set=s=>{"url"in s&&n(0,l=s.url)},[l]}class Qc extends ht{constructor(e){super(),_t(this,e,Yc,Xc,ut,{url:0})}}new Qc({target:document.getElementById("app")});
